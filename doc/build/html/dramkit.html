<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dramkit &mdash; DramKit 0.0.6.2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="logtools" href="dramkit.logtools.html" />
    <link rel="prev" title="Welcome to DramKit’s documentation!" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> DramKit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">dramkit</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.gentools">gentools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#log-used-time1">log_used_time1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#log-used-time2">log_used_time2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#print-used-time">print_used_time</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bootstrapping">bootstrapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#groupby-rolling-func">groupby_rolling_func</a></li>
<li class="toctree-l3"><a class="reference internal" href="#label-rep-index-str">label_rep_index_str</a></li>
<li class="toctree-l3"><a class="reference internal" href="#drop-index-duplicates">drop_index_duplicates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-update-kwargs">get_update_kwargs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roulette-base">Roulette_base</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roulette-stochasticaccept">Roulette_stochasticAccept</a></li>
<li class="toctree-l3"><a class="reference internal" href="#roulette-n">Roulette_N</a></li>
<li class="toctree-l3"><a class="reference internal" href="#randsum">randSum</a></li>
<li class="toctree-l3"><a class="reference internal" href="#randwsum">randWSum</a></li>
<li class="toctree-l3"><a class="reference internal" href="#con-count">con_count_</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">con_count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-pre-val-fcond">get_pre_val_Fcond</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gap-count">gap_count</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-between-gap">count_between_gap</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-between-gap-pd">count_between_gap_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#count-between-gap-iter">count_between_gap_iter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-repeat-iter">replace_repeat_iter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-repeat-pd">replace_repeat_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-repeat-f-iter">replace_repeat_F_iter</a></li>
<li class="toctree-l3"><a class="reference internal" href="#replace-repeat-f-pd">replace_repeat_F_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#val-gap-cond-new">val_gap_cond_new</a></li>
<li class="toctree-l3"><a class="reference internal" href="#val-gap-cond">val_gap_cond</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-by-fprepost-series">filter_by_FPrePost_series</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-appear-order">get_appear_order</a></li>
<li class="toctree-l3"><a class="reference internal" href="#filter-by-fprepost">filter_by_FPrePost</a></li>
<li class="toctree-l3"><a class="reference internal" href="#min-com-multer">min_com_multer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#max-com-divisor">max_com_divisor</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mcd2-tad">mcd2_tad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#max-com-divisor-tad">max_com_divisor_tad</a></li>
<li class="toctree-l3"><a class="reference internal" href="#isnull">isnull</a></li>
<li class="toctree-l3"><a class="reference internal" href="#x-div-y">x_div_y</a></li>
<li class="toctree-l3"><a class="reference internal" href="#power">power</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cal-pct">cal_pct</a></li>
<li class="toctree-l3"><a class="reference internal" href="#merge-df">merge_df</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-df-by-con-val">cut_df_by_con_val</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-con-start-end">get_con_start_end</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-exist-data">check_exist_data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-l-in-l0">check_l_in_l0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cut-range-to-subs">cut_range_to_subs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.install_check">install_check</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">install_check</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.iotools">iotools</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#pickle-file">pickle_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#unpickle-file">unpickle_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-json">load_json</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-json">write_json</a></li>
<li class="toctree-l3"><a class="reference internal" href="#read-lines">read_lines</a></li>
<li class="toctree-l3"><a class="reference internal" href="#write-txt">write_txt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-text">load_text</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-csv">load_csv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-csvs">load_csvs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-excels">load_excels</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-all-files">get_all_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-files">zip_files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-fpath">zip_fpath</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-fpaths">zip_fpaths</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-extract">zip_extract</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-fpath-7z">zip_fpath_7z</a></li>
<li class="toctree-l3"><a class="reference internal" href="#zip-fpaths-7z">zip_fpaths_7z</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extract-7z">extract_7z</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rename-files-in-dir">rename_files_in_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#del-dir">del_dir</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-file">copy_file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#copy-dir">copy_dir</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.logtools.html">logtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.other.html">other</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.pystyles.html">pystyles</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DramKit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>dramkit</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/dramkit.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="dramkit">
<h1>dramkit<a class="headerlink" href="#dramkit" title="Permalink to this headline"></a></h1>
<section id="module-dramkit.gentools">
<span id="gentools"></span><h2>gentools<a class="headerlink" href="#module-dramkit.gentools" title="Permalink to this headline"></a></h2>
<section id="log-used-time1">
<h3>log_used_time1<a class="headerlink" href="#log-used-time1" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.log_used_time1">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">log_used_time1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.log_used_time1" title="Permalink to this definition"></a></dt>
<dd><p>aaa
<a class="reference external" href="https://www.cnblogs.com/xiuyou/p/11283512.html">https://www.cnblogs.com/xiuyou/p/11283512.html</a>
<a class="reference external" href="https://www.cnblogs.com/slysky/p/9777424.html">https://www.cnblogs.com/slysky/p/9777424.html</a>
<a class="reference external" href="https://www.cnblogs.com/zhzhang/p/11375574.html">https://www.cnblogs.com/zhzhang/p/11375574.html</a></p>
</dd></dl>

</section>
<section id="log-used-time2">
<h3>log_used_time2<a class="headerlink" href="#log-used-time2" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.log_used_time2">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">log_used_time2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.log_used_time2" title="Permalink to this definition"></a></dt>
<dd><p>作为装饰器装饰func函数，并用logger记录其运行用时</p>
<p>aaa
<a class="reference external" href="https://www.cnblogs.com/xiuyou/p/11283512.html">https://www.cnblogs.com/xiuyou/p/11283512.html</a>
<a class="reference external" href="https://www.cnblogs.com/slysky/p/9777424.html">https://www.cnblogs.com/slysky/p/9777424.html</a>
<a class="reference external" href="https://www.cnblogs.com/zhzhang/p/11375574.html">https://www.cnblogs.com/zhzhang/p/11375574.html</a></p>
</dd></dl>

</section>
<section id="print-used-time">
<h3>print_used_time<a class="headerlink" href="#print-used-time" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.print_used_time">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">print_used_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.print_used_time" title="Permalink to this definition"></a></dt>
<dd><p>作为装饰器装饰func函数，print打印其运行用时
参考：<a class="reference external" href="https://www.cnblogs.com/slysky/p/9777424.html">https://www.cnblogs.com/slysky/p/9777424.html</a></p>
<blockquote>
<div><p><a class="reference external" href="https://www.cnblogs.com/zhzhang/p/11375574.html">https://www.cnblogs.com/zhzhang/p/11375574.html</a></p>
</div></blockquote>
</dd></dl>

</section>
<section id="bootstrapping">
<h3>bootstrapping<a class="headerlink" href="#bootstrapping" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.bootstrapping">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">bootstrapping</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.bootstrapping" title="Permalink to this definition"></a></dt>
<dd><p>bootstraping</p>
</dd></dl>

</section>
<section id="groupby-rolling-func">
<h3>groupby_rolling_func<a class="headerlink" href="#groupby-rolling-func" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.groupby_rolling_func">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">groupby_rolling_func</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols_groupby</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_rolling</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.groupby_rolling_func" title="Permalink to this definition"></a></dt>
<dd><p>data按照cols_groupby分组，然后再cols_val列上rolling调用func，
func的参数通过*args和**kwargs设定
若cols_val为str，则返回pd.Series；若为list，则返回pd.DataFrame
若keep_index为True，则返回结果中的index与data一样，否则返回结果中的index由
cols_groupby设定</p>
</dd></dl>

</section>
<section id="label-rep-index-str">
<h3>label_rep_index_str<a class="headerlink" href="#label-rep-index-str" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.label_rep_index_str">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">label_rep_index_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.label_rep_index_str" title="Permalink to this definition"></a></dt>
<dd><p>df中的index若有重复，对重复的index进行后缀编号，返回的index为str类型</p>
</dd></dl>

</section>
<section id="drop-index-duplicates">
<h3>drop_index_duplicates<a class="headerlink" href="#drop-index-duplicates" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.drop_index_duplicates">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">drop_index_duplicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'first'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.drop_index_duplicates" title="Permalink to this definition"></a></dt>
<dd><p>删除df中inde重复的记录</p>
</dd></dl>

</section>
<section id="get-update-kwargs">
<h3>get_update_kwargs<a class="headerlink" href="#get-update-kwargs" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_update_kwargs">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_update_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_update_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>取出并更新kwargs中key参数的值
若update为True，则取出的参数将被更新为arg，否则保留原来的值或默认值</p>
</dd></dl>

</section>
<section id="roulette-base">
<h3>Roulette_base<a class="headerlink" href="#roulette-base" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.Roulette_base">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">Roulette_base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitness</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.Roulette_base" title="Permalink to this definition"></a></dt>
<dd><p>基本轮盘赌法
fitness所有备选对象的fitness值列表，返回被选中对象的索引号
注：fitness值应为正，且fitness值越大，被选中概率越大
<a class="reference external" href="https://blog.csdn.net/armwangEric/article/details/50775206">https://blog.csdn.net/armwangEric/article/details/50775206</a></p>
</dd></dl>

</section>
<section id="roulette-stochasticaccept">
<h3>Roulette_stochasticAccept<a class="headerlink" href="#roulette-stochasticaccept" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.Roulette_stochasticAccept">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">Roulette_stochasticAccept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitness</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.Roulette_stochasticAccept" title="Permalink to this definition"></a></dt>
<dd><p>轮盘赌法，随机接受法
fitness所有备选对象的fitness值列表，返回被选中对象的索引号
注：fitness值应为正，且fitness值越大，被选中概率越大
<a class="reference external" href="https://blog.csdn.net/armwangEric/article/details/50775206">https://blog.csdn.net/armwangEric/article/details/50775206</a></p>
</dd></dl>

</section>
<section id="roulette-n">
<h3>Roulette_N<a class="headerlink" href="#roulette-n" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.Roulette_N">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">Roulette_N</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fitness</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">N=10000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">randFunc=&lt;function</span> <span class="pre">Roulette_stochasticAccept&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.Roulette_N" title="Permalink to this definition"></a></dt>
<dd><p>轮盘赌法N次模拟，返回每个备选对象在N次模拟中被选中的次数
N为模拟次数，randFunc指定轮盘赌法函数，如Roulette_base或Roulette_stochasticAccept
fitness格式和返回格式对应如下（N取6000）：</p>
<blockquote>
<div><p>fitenss: [1, 2, 3]或(1, 2, 3)
——&gt; [(0, 991), (1, 2022), (2, 2987)]
fitness: [(‘a’, 1), (‘b’, 2), (‘c’, 3)]或[[‘a’, 1], [‘b’, 2], [‘c’, 3]]
或((‘a’, 1), (‘b’, 2), (‘c’, 3))
——&gt; [(‘a’, 1016), (‘b’, 1921), (‘c’, 3063)]
fitness: {‘a’: 1, ‘b’: 2, ‘c’: 3}
——&gt; {‘a’: 988, ‘b’: 1971, ‘c’: 3041}</p>
</div></blockquote>
<p>注：fitness中的值应为正，且fitness值越大，被选中概率越大</p>
</dd></dl>

</section>
<section id="randsum">
<h3>randSum<a class="headerlink" href="#randsum" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.randSum">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">randSum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_sum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isInt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_dot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.randSum" title="Permalink to this definition"></a></dt>
<dd><p>在lowests和highests范围内随机产生n个数的列表adds，要求所选数之和为target_sum
lowests和highests为实数或列表，指定每个备选数的上下限
isInt若为True，则所选数全为整数，否则为实数，
注：若输入lowests或highests不是int，则isInt为True无效
n_dot，动态上下界值与上下限比较时控制小数位数（为了避免python精度问题导致的报错）</p>
</dd></dl>

</section>
<section id="randwsum">
<h3>randWSum<a class="headerlink" href="#randwsum" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.randWSum">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">randWSum</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">weight_sum</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lowests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">highests</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">W</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_dot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.randWSum" title="Permalink to this definition"></a></dt>
<dd><p>在lowests和highests范围内随机产生n个数的列表adds，
要求所选数之加权和为weight_sum，W为权重，若W为None，则等权
lowests和highests为实数或列表，指定每个备选数的上下限
注：lowests和highests与W应一一对应
n_dot，动态上下界值与上下限比较时控制小数位数（为了避免python精度问题导致的报错）</p>
</dd></dl>

</section>
<section id="con-count">
<h3><a href="#id5"><span class="problematic" id="id6">con_count_</span></a><a class="headerlink" href="#con-count" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.con_count_">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">con_count_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via_pd=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fignore=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.con_count_" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>在con_count的基础上增加连续性判断条件：</dt><dd><p>当series中的值满足Fignore函数值为True，不影响连续性判断</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="id1">
<h3>con_count<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.con_count">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">con_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.con_count" title="Permalink to this definition"></a></dt>
<dd><p>计算series(pd.Series)中连续满足Fcond函数指定的条件的记录数
Fcond为指定条件的函数，Fcond(x)返回结果只能为True或False
若via_pd为False，则使用循环迭代，若via_pd为True，则使用pd
返回pd.Series，即连续计数结果</p>
<p class="rubric">Examples</p>
<p>df = pd.DataFrame([0, 0, 1, 1, 0, 0, 1, 1, 1], columns=[‘series’])
Fcond = lambda x: True if x == 1 else False
df[‘count1’] = con_count(df[‘series’], Fcond, True)
df:</p>
<blockquote>
<div><blockquote>
<div><p>series  count1</p>
</div></blockquote>
<p>0       0       0
1       0       0
2       1       1
3       1       2
4       0       0
5       0       0
6       1       1
7       1       2
8       1       3</p>
</div></blockquote>
<p>df[‘count0’] = con_count(df[‘series’], lambda x: x != 1, False)
df:</p>
<blockquote>
<div><blockquote>
<div><p>series  count1  count0</p>
</div></blockquote>
<p>0       0       0       1
1       0       0       2
2       1       1       0
3       1       2       0
4       0       0       1
5       0       0       2
6       1       1       0
7       1       2       0
8       1       3       0</p>
</div></blockquote>
</dd></dl>

</section>
<section id="get-pre-val-fcond">
<h3>get_pre_val_Fcond<a class="headerlink" href="#get-pre-val-fcond" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_pre_val_Fcond">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_pre_val_Fcond</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_Fcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fcond</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_pre_val_Fcond" title="Permalink to this definition"></a></dt>
<dd><p>获取上一个满足指定条件的行中col_val列的值，条件为：该行中col_Fcond列的值x满足
Fcond(x)为True（Fcond(x)返回结果只能为True或False）
返回结果为pd.Series</p>
<p class="rubric">Examples</p>
<dl>
<dt>data = pd.DataFrame({‘x1’: [0, 1, 1, 0, -1, -1, 2, -1, 1, 0, 1, 1, 1, 0,</dt><dd><blockquote>
<div><p>0, -1, -1, 0, 0, 1],</p>
</div></blockquote>
<dl class="simple">
<dt>‘x2’: [0, 1, 1, 0, -1, -1, 1, -1, 1, 0, 1, 1, 1, 0,</dt><dd><p>0, -1, -1, 0, 0, 1]})</p>
</dd>
</dl>
</dd>
</dl>
<p>data[‘x1_pre’] = get_pre_val_Fcond(data, ‘x1’, ‘x2’, lambda x: x != 1)
data:</p>
<blockquote>
<div><blockquote>
<div><p>x1  x2  x1_pre</p>
</div></blockquote>
<p>0    0   0     NaN
1    1   1     0.0
2    1   1     0.0
3    0   0     0.0
4   -1  -1     0.0
5   -1  -1    -1.0
6    2   1    -1.0
7   -1  -1    -1.0
8    1   1    -1.0
9    0   0    -1.0
10   1   1     0.0
11   1   1     0.0
12   1   1     0.0
13   0   0     0.0
14   0   0     0.0
15  -1  -1     0.0
16  -1  -1    -1.0
17   0   0    -1.0
18   0   0     0.0
19   1   1     0.0</p>
</div></blockquote>
</dd></dl>

</section>
<section id="gap-count">
<h3>gap_count<a class="headerlink" href="#gap-count" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.gap_count">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">gap_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.gap_count" title="Permalink to this definition"></a></dt>
<dd><p>计算series(pd.Series)中当前行距离上一个满足Fcond函数指定条件记录的行数
Fcond为指定条件的函数，Fcond(x)返回结果只能为True或False，
若via_pd为False，则使用循环迭代，若via_pd为True，则使用pd
返回结果为pd.Series</p>
<p class="rubric">Examples</p>
<p>df = pd.DataFrame([0, 1, 1, 0, 0, 1, 1, 1], columns=[‘series’])
Fcond = lambda x: True if x == 1 else False
df[‘gap1’] = gap_count(df[‘series’], Fcond, True)
df:</p>
<blockquote>
<div><blockquote>
<div><p>series  gap1</p>
</div></blockquote>
<p>0       0     0
1       1     0
2       1     1
3       0     1
4       0     2
5       1     3
6       1     1
7       1     1</p>
</div></blockquote>
<p>df[‘gap0’] = gap_count(df[‘series’], lambda x: x != 1, False)
df:</p>
<blockquote>
<div><blockquote>
<div><p>series  gap1  gap0</p>
</div></blockquote>
<p>0       0     0     0
1       1     0     1
2       1     1     2
3       0     1     3
4       0     2     1
5       1     3     1
6       1     1     2
7       1     1     3</p>
</div></blockquote>
</dd></dl>

</section>
<section id="count-between-gap">
<h3>count_between_gap<a class="headerlink" href="#count-between-gap" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_between_gap">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_between_gap</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gapFcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">countFcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">via_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_between_gap" title="Permalink to this definition"></a></dt>
<dd><p>计算data中当前行与上一个满足gapFcond指定条件的行之间，
满足countFcond函数指定条件的记录数
其中函数gapFond作用于col_gap列，countFcond作用于col_count列
count_now_gap设置满足gapFcond的行是否参与计数
count_now设置当当前行满足countFcond时，从当前行开始对其计数还是从下一行开始对其计数
注：当前行若满足同时满足gapFcond和countFcond，对其计数的行不会为下一行
（即要么不计数，要么在当前行对其计数）
若via_pd为True，则调用count_between_gap_pd实现，否则用count_between_gap_iter
返回结果为pd.Series</p>
<p class="rubric">Examples</p>
<dl>
<dt>data = pd.DataFrame({‘to_gap’: [0, 1, 1, 0, -1, -1, 2, -1, 1, 0, 1, 1,</dt><dd><blockquote>
<div><p>1, 0, 0, -1, -1, 0, 0, 1],</p>
</div></blockquote>
<dl class="simple">
<dt>‘to_count’: [0, 1, 1, 0, -1, -1, 1, -1, 1, 0, 1,</dt><dd><p>1, 1, 0, 0, -1, -1, 0, 0, 1]})</p>
</dd>
</dl>
</dd>
<dt>data[‘gap_count’] = count_between_gap(data, ‘to_gap’, ‘to_count’,</dt><dd><p>lambda x: x == -1, lambda x: x == 1,
count_now_gap=False, count_now=False)</p>
</dd>
<dt>data:</dt><dd><blockquote>
<div><p>to_gap  to_count  gap_count</p>
</div></blockquote>
<p>0        0         0          0
1        1         1          0
2        1         1          0
3        0         0          0
4       -1        -1          0
5       -1        -1          0
6        2         1          1
7       -1        -1          0
8        1         1          1
9        0         0          1
10       1         1          2
11       1         1          3
12       1         1          4
13       0         0          4
14       0         0          4
15      -1        -1          0
16      -1        -1          0
17       0         0          0
18       0         0          0
19       1         1          1</p>
</dd>
<dt>data = pd.DataFrame({‘to_gap’: [0, 1, 1, 0, -1, -1, 2, -1, 1, 0, 1, 1,</dt><dd><blockquote>
<div><p>1, 0, 0, -1, -1, 0, 0, 1, -1, 1],</p>
</div></blockquote>
<dl class="simple">
<dt>‘to_count’: [0, 1, 1, 0, -1, -1, 1, -1, 1, 0, 1,</dt><dd><p>1, 1, 0, 0, -1, 1, 0, 1, 1, 1, -1]})</p>
</dd>
</dl>
</dd>
<dt>data[‘gap_count’] = count_between_gap(data, ‘to_gap’, ‘to_count’,</dt><dd><p>lambda x: x == -1, lambda x: x == 1,
count_now_gap=True, count_now=True)</p>
</dd>
<dt>data:</dt><dd><blockquote>
<div><p>to_gap  to_count  gap_count</p>
</div></blockquote>
<p>0        0         0          0
1        1         1          0
2        1         1          0
3        0         0          0
4       -1        -1          0
5       -1        -1          0
6        2         1          1
7       -1        -1          1
8        1         1          1
9        0         0          1
10       1         1          2
11       1         1          3
12       1         1          4
13       0         0          4
14       0         0          4
15      -1        -1          4
16      -1         1          1
17       0         0          0
18       0         1          1
19       1         1          2
20      -1         1          3
21       1        -1          0</p>
</dd>
<dt>data = pd.DataFrame({‘to_gap’: [0, 1, 1, 0, -1, -1, 2, -1, 1, 0, 1, 1,</dt><dd><blockquote>
<div><p>1, 0, 0, -1, -1, 0, 0, 1, -1, 1],</p>
</div></blockquote>
<dl class="simple">
<dt>‘to_count’: [0, -1, -1, 0, -1, -1, 1, -1, 1, 0, 1, 1,</dt><dd><p>1, 0, 0, -1, -1, 0, -1, 1, 1, -1]})</p>
</dd>
</dl>
</dd>
<dt>data[‘gap_count’] = count_between_gap(data, ‘to_gap’, ‘to_count’,</dt><dd><p>lambda x: x == -1, lambda x: x == 1,
count_now_gap=True, count_now=False)</p>
</dd>
<dt>data:</dt><dd><blockquote>
<div><p>to_gap  to_count  gap_count</p>
</div></blockquote>
<p>0        0         0          0
1        1        -1          0
2        1        -1          0
3        0         0          0
4       -1        -1          0
5       -1        -1          0
6        2         1          0
7       -1        -1          1
8        1         1          0
9        0         0          1
10       1         1          1
11       1         1          2
12       1         1          3
13       0         0          4
14       0         0          4
15      -1        -1          4
16      -1        -1          0
17       0         0          0
18       0        -1          0
19       1         1          0
20      -1         1          1
21       1        -1          0</p>
</dd>
<dt>data = pd.DataFrame({‘to_gap’: [0, 1, 1, 0, -1, -1, 2, -1, 1, 0, 1, 1, 1,</dt><dd><blockquote>
<div><p>0, 0, -1, -1, 0, 0, 1, -1, 1],</p>
</div></blockquote>
<dl class="simple">
<dt>‘to_count’: [0, -1, -1, 0, -1, -1, 1, -1, 1, 0, 1, 1,</dt><dd><p>1, 0, 0, -1, -1, 0, -1, 1, 1, -1]})</p>
</dd>
</dl>
</dd>
<dt>data[‘gap_count’] = count_between_gap(data, ‘to_gap’, ‘to_count’,</dt><dd><p>lambda x: x == -1, lambda x: x == 1,
count_now_gap=False, count_now=True)</p>
</dd>
<dt>data:</dt><dd><blockquote>
<div><p>to_gap  to_count  gap_count</p>
</div></blockquote>
<p>0        0         0          0
1        1        -1          0
2        1        -1          0
3        0         0          0
4       -1        -1          0
5       -1        -1          0
6        2         1          1
7       -1        -1          0
8        1         1          1
9        0         0          1
10       1         1          2
11       1         1          3
12       1         1          4
13       0         0          4
14       0         0          4
15      -1        -1          0
16      -1        -1          0
17       0         0          0
18       0        -1          0
19       1         1          1
20      -1         1          0
21       1        -1          0</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="count-between-gap-pd">
<h3>count_between_gap_pd<a class="headerlink" href="#count-between-gap-pd" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_between_gap_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_between_gap_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gapFcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">countFcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_between_gap_pd" title="Permalink to this definition"></a></dt>
<dd><p>参数和功能说明见count_between_gap函数</p>
</dd></dl>

</section>
<section id="count-between-gap-iter">
<h3>count_between_gap_iter<a class="headerlink" href="#count-between-gap-iter" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.count_between_gap_iter">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">count_between_gap_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_count</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gapFcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">countFcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.count_between_gap_iter" title="Permalink to this definition"></a></dt>
<dd><p>参数和功能说明见count_between_gap函数</p>
</dd></dl>

</section>
<section id="replace-repeat-iter">
<h3>replace_repeat_iter<a class="headerlink" href="#replace-repeat-iter" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_repeat_iter">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_repeat_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_repeat_iter" title="Permalink to this definition"></a></dt>
<dd><p>替换重复出现的值
series中若步长为gap的范围内出现多个val值，则只保留第一条记录，后面的替换为val0
若gap为None，则将连续出现的val值只保留第一个，其余替换为val0(这里连续出现val是指
不出现除了val和val0之外的其他值)
返回结果为替换之后的pd.Series</p>
<p class="rubric">Examples</p>
<dl class="simple">
<dt>data = pd.DataFrame([0, 1, 1, 0, -1, -1, 2, -1, 1, 0, 1, 1, 1, 0, 0,</dt><dd><p>-1, -1, 0, 0, 1], columns=[‘test’])</p>
</dd>
</dl>
<p>data[‘test_rep’] = replace_repeat_iter(data[‘test’], 1, 0, gap=None)
data:</p>
<blockquote>
<div><blockquote>
<div><p>test  test_rep</p>
</div></blockquote>
<p>0      0         0
1      1         1
2      1         0
3      0         0
4     -1        -1
5     -1        -1
6      2         2
7     -1        -1
8      1         1
9      0         0
10     1         0
11     1         0
12     1         0
13     0         0
14     0         0
15    -1        -1
16    -1        -1
17     0         0
18     0         0
19     1         1</p>
</div></blockquote>
<p>series = pd.Series([-1, 1, -1, 0, 1, 0, 1, 1, -1])
replace_repeat_iter(series, 1, 0, gap=5)</p>
<blockquote>
<div><p>0   -1
1    1
2   -1
3    0
4    1
5    0
6    0
7    0
8   -1</p>
</div></blockquote>
</dd></dl>

</section>
<section id="replace-repeat-pd">
<h3>replace_repeat_pd<a class="headerlink" href="#replace-repeat-pd" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_repeat_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_repeat_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_repeat_pd" title="Permalink to this definition"></a></dt>
<dd><p>series连续出现的重复val值保留第一个，其余替换为val0（用pd，不用循环迭代）
参数和意义同replace_repeat_iter函数，返回结果为替换之后的pd.Series</p>
</dd></dl>

</section>
<section id="replace-repeat-f-iter">
<h3>replace_repeat_F_iter<a class="headerlink" href="#replace-repeat-f-iter" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_repeat_F_iter">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_repeat_F_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valF</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val0F</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_repeat_F_iter" title="Permalink to this definition"></a></dt>
<dd><p>series中连续出现的满足valF函数的重复值保留第一个，其余替换为val0F函数的值
与replace_repeat_iter作用一样，只不过把val和val0由指定值换成了由函数生成值，
valF函数用于判断连续条件，其返回值只能是True或False，val0F函数用于生成替换的新值
series中若步长为gap的范围内出现多个满足valF函数为True的值，则只保留第一条记录，
后面的替换为函数val0F的值
若gap为None，则将连续出现的满足valF函数为True的值只保留第一个，
其余替换为函数val0F的值(这里连续出现是指不出现除了满足valF为True和等于val0F函数值
之外的其他值)
返回结果为替换之后的pd.Series</p>
<p class="rubric">Examples</p>
<dl>
<dt>data = pd.DataFrame([0, 1, 1, 0, -1, -1, 2, -1, 1, 0, 1, 1, 1, 0, 0,</dt><dd><p>-1, -1, 0, 0, 1], columns=[‘y’])</p>
</dd>
<dt>data[‘y_rep’] = replace_repeat_F_iter(data[‘y’], lambda x: x &lt; 1,</dt><dd><p>lambda x: 3, gap=None)</p>
</dd>
<dt>data:</dt><dd><blockquote>
<div><p>y  y_rep</p>
</div></blockquote>
<p>0   0      0
1   1      1
2   1      1
3   0      0
4  -1      3
5  -1      3
6   2      2
7  -1     -1
8   1      1
9   0      0
10  1      1
11  1      1
12  1      1
13  0      0
14  0      3
15 -1      3
16 -1      3
17  0      3
18  0      3
19  1      1</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="replace-repeat-f-pd">
<h3>replace_repeat_F_pd<a class="headerlink" href="#replace-repeat-f-pd" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.replace_repeat_F_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">replace_repeat_F_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valF</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">val0F</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.replace_repeat_F_pd" title="Permalink to this definition"></a></dt>
<dd><p>series中连续出现的满足valF函数的重复值保留第一个，其余替换为val0F函数的值
（用pd，不用循环迭代）
参数和意义同replace_repeat_F_iter函数，返回结果为替换之后的pd.Series</p>
</dd></dl>

</section>
<section id="val-gap-cond-new">
<h3>val_gap_cond_new<a class="headerlink" href="#val-gap-cond-new" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.val_gap_cond_new">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">val_gap_cond_new</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.val_gap_cond_new" title="Permalink to this definition"></a></dt>
<dd><p>val_gap_cond函数升级修改（与count_between_gap函数结合？）
修改返回值位置（从满足Fcond的行开始还是从下一行开始）
修改最后一行是否纳入计算</p>
</dd></dl>

</section>
<section id="val-gap-cond">
<h3>val_gap_cond<a class="headerlink" href="#val-gap-cond" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.val_gap_cond">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">val_gap_cond</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_Fval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_Fcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fcond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_cal_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fto_cal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vnan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contain_1st</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.val_gap_cond" title="Permalink to this definition"></a></dt>
<dd><p>计算从上一个满足Fcond函数的记录到当前行，col_Fval列记录的Fval函数值
Fcond作用于col_Fcond列，Fcond(x)返回True或False，x为单个值
Fval函数作用于col_Fval列，Fval(x)返回单个值，x为np.array或pd.Series或列表等
Fto_cal作用于to_cal_col列，只有当前行Fto_cal值为True时才进行Fval计算，
否则返回结果中当前行值设置为Vnan
contain_1st设置Fval函数计算时是否将上一个满足Fcond的行也纳入计算</p>
<p class="rubric">Examples</p>
<dl>
<dt>data = pd.DataFrame({‘val’: [1, 2, 5, 3, 1, 7 ,9],</dt><dd><p>‘sig’: [1, 1, -1, 1, 1, -1, 1]})</p>
</dd>
<dt>data[‘val_pre1’] = val_gap_cond(data, ‘val’, ‘sig’,</dt><dd><p>lambda x: x == -1, lambda x: max(x))</p>
</dd>
<dt>data:</dt><dd><blockquote>
<div><p>val  sig  val_pre1</p>
</div></blockquote>
<p>0    1    1       NaN
1    2    1       NaN
2    5   -1       NaN
3    3    1       3.0
4    1    1       3.0
5    7   -1       7.0
6    9    1       9.0</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="filter-by-fprepost-series">
<h3>filter_by_FPrePost_series<a class="headerlink" href="#filter-by-fprepost-series" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.filter_by_FPrePost_series">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">filter_by_FPrePost_series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">FPrePost</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fignore=&lt;function</span> <span class="pre">&lt;lambda&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Vnan=nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.filter_by_FPrePost_series" title="Permalink to this definition"></a></dt>
<dd><p>对series调用filter_by_FPrePost函数，其中满足Fignore函数的值不参与
series中被过滤的值在返回结果中用Vnan替换（不参与的值保持不变）</p>
<p class="rubric">Examples</p>
<p>series = pd.Series([1, 2, 3, 4, 1, 1, 2, 3, 6])
FPrePost = lambda x, y: (y-x) &gt;= 2
filter_by_FPrePost_series(series, FPrePost)</p>
<blockquote>
<div><p>0    1.0
1    NaN
2    3.0
3    NaN
4    NaN
5    NaN
6    NaN
7    NaN
8    6.0</p>
</div></blockquote>
<dl class="simple">
<dt>series = pd.Series([1, 2, 0, 3, 0, 4, 0, 1, 0, 0, 1, 2, 3, 6],</dt><dd><p>index=range(14, 0, -1))</p>
</dd>
</dl>
<p>filter_by_FPrePost_series(series, FPrePost, lambda x: x == 0)</p>
</dd></dl>

</section>
<section id="get-appear-order">
<h3>get_appear_order<a class="headerlink" href="#get-appear-order" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_appear_order">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_appear_order</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_appear_order" title="Permalink to this definition"></a></dt>
<dd><p>标注series（离散值）中重复元素是第几次出现</p>
<dl class="simple">
<dt>eg.:</dt><dd><p>df = pd.DataFrame({‘v’: [‘A’, ‘B’, ‘A’, ‘A’, ‘C’, ‘C’]})
df.index = [‘a’, ‘b’, ‘c’, ‘d’, ‘e’, ‘f’]
df[‘nth’] = get_appear_order(df[‘v’], ascending=False)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="filter-by-fprepost">
<h3>filter_by_FPrePost<a class="headerlink" href="#filter-by-fprepost" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.filter_by_FPrePost">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">filter_by_FPrePost</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">FPrePost</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.filter_by_FPrePost" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>对l（list）进行过滤，过滤后的lnew（list）前后相邻两个值满足：</dt><dd><p>FPrePost(lnew[i], lnew[i+1]) = True</p>
</dd>
<dt>过滤过程为：将l的第一个元素作为起点，找到其后第一个满足FPrePost函数的元素，</dt><dd><p>再以该元素为起点往后寻找…</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>l</strong><strong>(</strong><strong>list</strong><strong>)</strong> (<em>待过滤列表</em>) – </p></li>
<li><p><strong>FPrePost</strong> (<em>过滤函数，接收两个参数，返回值为True或False</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>lnew(list)</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>过滤后的列表</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>l = [1, 2, 3, 4, 1, 1, 2, 3, 6]
FPrePost = lambda x, y: (y-x) &gt;= 2
filter_by_FPrePost(l, FPrePost)
&gt;&gt;&gt; [1, 3, 6]
filter_by_FPrePost(l, lambda x, y: y == x+1)
&gt;&gt;&gt; [1, 2, 3, 4]</p>
</dd></dl>

</section>
<section id="min-com-multer">
<h3>min_com_multer<a class="headerlink" href="#min-com-multer" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.min_com_multer">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">min_com_multer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.min_com_multer" title="Permalink to this definition"></a></dt>
<dd><p>求一列数l的最小公倍数，支持负数和浮点数</p>
</dd></dl>

</section>
<section id="max-com-divisor">
<h3>max_com_divisor<a class="headerlink" href="#max-com-divisor" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.max_com_divisor">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">max_com_divisor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.max_com_divisor" title="Permalink to this definition"></a></dt>
<dd><p>求一列数l的最大公约数，只支持正整数</p>
</dd></dl>

</section>
<section id="mcd2-tad">
<h3>mcd2_tad<a class="headerlink" href="#mcd2-tad" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.mcd2_tad">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">mcd2_tad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.mcd2_tad" title="Permalink to this definition"></a></dt>
<dd><p>辗转相除法求a和b的最大公约数，a、b为正数，为小数时由于精度问题会不正确</p>
</dd></dl>

</section>
<section id="max-com-divisor-tad">
<h3>max_com_divisor_tad<a class="headerlink" href="#max-com-divisor-tad" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.max_com_divisor_tad">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">max_com_divisor_tad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.max_com_divisor_tad" title="Permalink to this definition"></a></dt>
<dd><p>用辗转相除法求一列数l的最大公约数，l元素均为正数，为小数时由于精度问题会不正确
<a class="reference external" href="https://blog.csdn.net/weixin_45069761/article/details/107954905">https://blog.csdn.net/weixin_45069761/article/details/107954905</a></p>
</dd></dl>

</section>
<section id="isnull">
<h3>isnull<a class="headerlink" href="#isnull" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.isnull">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">isnull</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.isnull" title="Permalink to this definition"></a></dt>
<dd><p>判断x是否为无效值，若是无效值，返回True，否则返回False</p>
</dd></dl>

</section>
<section id="x-div-y">
<h3>x_div_y<a class="headerlink" href="#x-div-y" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.x_div_y">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">x_div_y</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_x0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_y0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_xy0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.x_div_y" title="Permalink to this definition"></a></dt>
<dd><p>x除以y，
v_xy0为当x和y同时为0时的返回值，
v_y0为当y等于0时的返回值，
v_x0为当x等于0时的返回值</p>
</dd></dl>

</section>
<section id="power">
<h3>power<a class="headerlink" href="#power" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.power">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">power</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_real</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.power" title="Permalink to this definition"></a></dt>
<dd><p>计算a的b次方，return_real设置是否只返回实属部分</p>
</dd></dl>

</section>
<section id="cal-pct">
<h3>cal_pct<a class="headerlink" href="#cal-pct" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.cal_pct">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">cal_pct</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">v0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vv00</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vv10</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.cal_pct" title="Permalink to this definition"></a></dt>
<dd><p>计算从v0到v1的百分比变化
vv00为当v0的值为0且v1为正时的返回值，v1为负时取负号
vv10为当v1的值为0且v0为正时的返回值，v0为负时取负号</p>
</dd></dl>

</section>
<section id="merge-df">
<h3>merge_df<a class="headerlink" href="#merge-df" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.merge_df">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">merge_df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_left</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_right</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">same_keep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'left'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.merge_df" title="Permalink to this definition"></a></dt>
<dd><p>pd.merge，相同列名时去除重复
same_keep可选[‘left’, ‘right’]设置相同列保留左边df还是右边df
<a href="#id2"><span class="problematic" id="id3">**</span></a>kwargs接收pd.merge接受的其他参数</p>
</dd></dl>

</section>
<section id="cut-df-by-con-val">
<h3>cut_df_by_con_val<a class="headerlink" href="#cut-df-by-con-val" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.cut_df_by_con_val">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">cut_df_by_con_val</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eqFunc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.cut_df_by_con_val" title="Permalink to this definition"></a></dt>
<dd><p>根据by_col列的值，将df切分为多个子集列表
切分依据：eqFunc函数作用于by_col列，函数值连续相等的记录被划分到一个子集中
.. rubric:: Examples</p>
<dl class="simple">
<dt>df = pd.DataFrame({‘val’:range(0,10),</dt><dd><p>‘by_col’: [‘a’]*3+[‘b’]*2+[‘c’]*1+[‘a’]*3+[‘d’]*1})</p>
</dd>
</dl>
<p>df.index = [‘z’, ‘y’, ‘x’, ‘w’, ‘v’, ‘u’, ‘t’, ‘s’, ‘r’, ‘q’]
cut_df_by_con_val(df, ‘by_col’)</p>
<blockquote>
<div><dl>
<dt>[   val by_col</dt><dd><p>z    0      a
y    1      a
x    2      a,</p>
<blockquote>
<div><p>val by_col</p>
</div></blockquote>
<p>w    3      b
v    4      b,</p>
<blockquote>
<div><p>val by_col</p>
</div></blockquote>
<dl class="simple">
<dt>u    5      c,</dt><dd><p>val by_col</p>
</dd>
</dl>
<p>t    6      a
s    7      a
r    8      a,</p>
<blockquote>
<div><p>val by_col</p>
</div></blockquote>
<p>q    9      d]</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</section>
<section id="get-con-start-end">
<h3>get_con_start_end<a class="headerlink" href="#get-con-start-end" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.get_con_start_end">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">get_con_start_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Fcond</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.get_con_start_end" title="Permalink to this definition"></a></dt>
<dd><p>找出series中值连续满足Fcond函数的分段起止位置</p>
<p class="rubric">Example</p>
<dl class="simple">
<dt>series = pd.Series([0, 1, 1, 0, 1, 1, 0, -1, -1, 0, 0, -1, 1, 1, 1, 1, 0,</dt><dd><p>-1])</p>
</dd>
</dl>
<p>start_ends = get_con_start_end(series, lambda x: x == -1)
start_ends:</p>
<blockquote>
<div><p>[[7, 8], [11, 11], [17, 17]]</p>
</div></blockquote>
<p>start_ends = get_con_start_end(series, lambda x: x == 1)
start_ends:</p>
<blockquote>
<div><p>[[1, 2], [4, 5], [12, 15]]</p>
</div></blockquote>
</dd></dl>

</section>
<section id="check-exist-data">
<h3>check_exist_data<a class="headerlink" href="#check-exist-data" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.check_exist_data">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">check_exist_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.check_exist_data" title="Permalink to this definition"></a></dt>
<dd><p>依据指定的cols列检查df中是否已经存在x_list中的记录</p>
<p class="rubric">Examples</p>
<dl class="simple">
<dt>df = pd.DataFrame([[‘1’, 2, 3.1, ], [‘3’, 4, 5.1], [‘5’, 6, 7.1]],</dt><dd><p>columns=[‘a’, ‘b’, ‘c’])</p>
</dd>
</dl>
<p>x_list, cols = [[3, 4], [‘3’, 4]], [‘a’, ‘b’]
check_exist_data(df, x_list, cols=cols):</p>
<blockquote>
<div><p>[False, True]</p>
</div></blockquote>
<dl class="simple">
<dt>check_exist_data(df, [[‘1’, 3.1], [‘3’, 5.1]], [‘a’, ‘c’]):</dt><dd><p>[True, True]</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="check-l-in-l0">
<h3>check_l_in_l0<a class="headerlink" href="#check-l-in-l0" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.check_l_in_l0">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">check_l_in_l0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">l0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.check_l_in_l0" title="Permalink to this definition"></a></dt>
<dd><p>判断l（list）中的值是否都是l0（list）中的元素</p>
<p class="rubric">Example</p>
<p>l = [1, 2, 3, -1, 0]
l0 = [0, 1, -1]
check_l_in_l0(l, l0)
&gt;&gt;&gt; False</p>
<p>l = [1, 1, 0, -1, -1, 0, 0]
l0 = [0, 1, -1]
check_l_in_l0(l, l0)
&gt;&gt;&gt; True</p>
</dd></dl>

</section>
<section id="cut-range-to-subs">
<h3>cut_range_to_subs<a class="headerlink" href="#cut-range-to-subs" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.gentools.cut_range_to_subs">
<span class="sig-prename descclassname"><span class="pre">dramkit.gentools.</span></span><span class="sig-name descname"><span class="pre">cut_range_to_subs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">N</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.gentools.cut_range_to_subs" title="Permalink to this definition"></a></dt>
<dd><p>将range(0, N)切分成连续相接的子集[range(0, gap), range(gap, 2*gap), …]</p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.install_check">
<span id="install-check"></span><h2>install_check<a class="headerlink" href="#module-dramkit.install_check" title="Permalink to this headline"></a></h2>
<section id="id4">
<h3>install_check<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.install_check.install_check">
<span class="sig-prename descclassname"><span class="pre">dramkit.install_check.</span></span><span class="sig-name descname"><span class="pre">install_check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.install_check.install_check" title="Permalink to this definition"></a></dt>
<dd><p>检查是否成功安装dramkit</p>
<p>若成功安装，会打印版本号和相关提示信息</p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.iotools">
<span id="iotools"></span><h2>iotools<a class="headerlink" href="#module-dramkit.iotools" title="Permalink to this headline"></a></h2>
<section id="pickle-file">
<h3>pickle_file<a class="headerlink" href="#pickle-file" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.pickle_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">pickle_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.pickle_file" title="Permalink to this definition"></a></dt>
<dd><p>以二进制格式保存数据data到文件file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – 待保存内容</p></li>
<li><p><strong>file</strong> (<em>str</em>) – 保存路径</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="unpickle-file">
<h3>unpickle_file<a class="headerlink" href="#unpickle-file" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.unpickle_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">unpickle_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.unpickle_file" title="Permalink to this definition"></a></dt>
<dd><p>读取二进制格式文件file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file</strong> (<em>str</em>) – 待读取文件路径</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-json">
<h3>load_json<a class="headerlink" href="#load-json" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_json">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_json" title="Permalink to this definition"></a></dt>
<dd><p>读取json格式文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 待读取文件路径</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 文件编码格式，若不指定，则尝试用utf-8和gbk编码读取</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em>) – 日志记录器</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="write-json">
<h3>write_json<a class="headerlink" href="#write-json" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.write_json">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">write_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.write_json" title="Permalink to this definition"></a></dt>
<dd><p>把data写入json格式文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>dict</em>) – 待写入数据</p></li>
<li><p><strong>fpath</strong> (<em>str</em>) – 文件保存路径</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 文件编码格式</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="read-lines">
<h3>read_lines<a class="headerlink" href="#read-lines" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.read_lines">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">read_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.read_lines" title="Permalink to this definition"></a></dt>
<dd><p>读取文本文件中的所有行</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 待读取文件路径</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 文件编码格式，若不指定，则尝试用utf-8和gbk编码读取</p></li>
<li><p><strong>logger</strong> (<em>None</em><em>, </em><em>logging.Logger</em>) – 日志记录器</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>lines</strong> – 文本文件中每行内容列表</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="write-txt">
<h3>write_txt<a class="headerlink" href="#write-txt" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.write_txt">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">write_txt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.write_txt" title="Permalink to this definition"></a></dt>
<dd><p>将列表lines中的内容写入文本文件中</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lines</strong> (<em>list</em>) – 列表，每个元素为一行文本内容</p></li>
<li><p><strong>file</strong> (<em>str</em>) – 保存路径</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – 写入模式，如’w’或’a’</p></li>
<li><p><strong>check_end</strong> (<em>bool</em>) – 是否检查每行行尾换行符，默认若行尾已经有换行符，则不再新添加换行符</p></li>
<li><p><strong>**kwargs</strong> – <code class="docutils literal notranslate"><span class="pre">open</span></code> 函数接受的关键字，如encoding等</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>不同系统文本文件每行默认结尾字符不同:</p>
<blockquote>
<div><ul class="simple">
<li><p>linux下一般以`\n`结尾</p></li>
<li><p>windows下一般以`\r\n`结尾</p></li>
<li><p>苹果系统一般以`\r`结尾</p></li>
</ul>
</div></blockquote>
</div>
</dd></dl>

</section>
<section id="load-text">
<h3>load_text<a class="headerlink" href="#load-text" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_text">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">','</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_first_line</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_first_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_pd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_last_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_text" title="Permalink to this definition"></a></dt>
<dd><p>读取文本文件数据，要求文件中每行存放一个数据样本</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 文本文件路径</p></li>
<li><p><strong>sep</strong> (<em>str</em>) – 字段分隔符，默认`,`</p></li>
<li><p><strong>del_first_line</strong> (<em>bool</em>) – <p>是否删除首行，默认不删除</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>若del_first_line为True，则输出pandas.DataFrame没有列名</p>
</div>
</p></li>
<li><p><strong>del_first_col</strong> (<em>bool</em>) – 是否删除首列，默认不删除</p></li>
<li><p><strong>to_pd</strong> (<em>bool</em>) – 是否输出为pandas.DataFrame，默认是</p></li>
<li><p><strong>keep_header</strong> (<em>bool</em>) – 输出为pandas.DataFrame时是否以首行作为列名，默认是</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 指定编码方式，默认不指定时会尝试以uft-8和gbk编码读取</p></li>
<li><p><strong>del_last_col</strong> (<em>bool</em>) – 是否删除最后一列，默认否</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em><em>, </em><em>None</em>) – 日志记录器</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> – 返回读取的数据</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list, pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-csv">
<h3>load_csv<a class="headerlink" href="#load-csv" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_csv">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_csv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">del_unname_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_csv" title="Permalink to this definition"></a></dt>
<dd><p>用pandas读取csv数据</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – csv文件路径</p></li>
<li><p><strong>del_unname_cols</strong> (<em>bool</em>) – 是否删除未命名列，默认删除</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em>, </em><em>None</em>) – 指定编码方式，默认不指定，不指定时会尝试以uft-8和gbk编码读取</p></li>
<li><p><strong>logger</strong> (<em>logging.Logger</em><em>, </em><em>None</em>) – 日志记录器</p></li>
<li><p><strong>**kwargs</strong> – 其它 <code class="docutils literal notranslate"><span class="pre">pd.read_csv</span></code> 支持的参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> – 读取的数据</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-csvs">
<h3>load_csvs<a class="headerlink" href="#load-csvs" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_csvs">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_csvs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_duplicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_loadcsv</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_csvs" title="Permalink to this definition"></a></dt>
<dd><p>读取指定文件夹中所有的csv文件，整合到一个df里面</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdir</strong> (<em>str</em>) – 文件夹路径</p></li>
<li><p><strong>sort_cols</strong> (<em>None</em><em>, </em><em>str</em><em>, </em><em>list</em>) – 根据sort_cols指定列排序(升序)和去重</p></li>
<li><p><strong>drop_duplicates</strong> (<em>bool</em>) – 是否删除重复值(重复值保留第一条)</p></li>
<li><p><strong>**kwargs_loadcsv</strong> – <a class="reference internal" href="#dramkit.iotools.load_csv" title="dramkit.iotools.load_csv"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotools.load_csv()</span></code></a> 接受的其它参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> – 读取的数据</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="load-excels">
<h3>load_excels<a class="headerlink" href="#load-excels" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.load_excels">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">load_excels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sort_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_duplicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_readexcel</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.load_excels" title="Permalink to this definition"></a></dt>
<dd><p>读取指定文件夹中所有的excel文件，整合到一个df里面</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fdir</strong> (<em>str</em>) – 文件夹路径</p></li>
<li><p><strong>sort_cols</strong> (<em>None</em><em>, </em><em>str</em><em>, </em><em>list</em>) – 根据sort_cols指定列排序(升序)和去重</p></li>
<li><p><strong>drop_duplicates</strong> (<em>bool</em>) – 是否删除重复值(重复值保留第一条)</p></li>
<li><p><strong>**kwargs_readexcel</strong> – <code class="docutils literal notranslate"><span class="pre">pd.read_excel</span></code> 接受的其它参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data</strong> – 读取的数据</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="get-all-files">
<h3>get_all_files<a class="headerlink" href="#get-all-files" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.get_all_files">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">get_all_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ext</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">abspath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.get_all_files" title="Permalink to this definition"></a></dt>
<dd><blockquote>
<div><p>获取指定文件夹及其子文件夹中所有的文件路径</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_path</strong> (<em>str</em>) – 文件夹路径</p></li>
<li><p><strong>ext</strong> (<em>None</em><em>, </em><em>str</em><em>, </em><em>list</em>) – 指定文件后缀列表，若为None，则包含所有类型文件</p></li>
<li><p><strong>include_dir</strong> (<em>bool</em>) – 返回结果中是否包含文件夹路径，默认不包含（即只返回文件路径）</p></li>
<li><p><strong>abspath</strong> (<em>bool</em>) – 是否返回绝对路径，默认返回相对路径</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>fpaths</strong> – 文件路径列表</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-files">
<h3>zip_files<a class="headerlink" href="#zip-files" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_files">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_ori_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_zip_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_files" title="Permalink to this definition"></a></dt>
<dd><p>使用zipfile将指定路径列表(不包括子文件(夹)内容)打包为.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zip_path</strong> (<em>str</em>) – zip压缩包保存路径</p></li>
<li><p><strong>fpaths</strong> (<em>list</em>) – 需要压缩的路径列表(应为相对路径)</p></li>
<li><p><strong>keep_ori_path</strong> (<em>bool</em>) – <ul>
<li><p>若为True, 则压缩文件会保留fpaths中文件的原始路径</p></li>
<li><p>若为False, 则fpaths中所有文件在压缩文件中都在统一根目录下</p></li>
</ul>
</p></li>
<li><p><strong>keep_zip_new</strong> (<em>bool</em>) – 若为True，将覆盖已有压缩文件，否则在已有文件里面新增</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-fpath">
<h3>zip_fpath<a class="headerlink" href="#zip-fpath" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_fpath">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_fpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_fpath" title="Permalink to this definition"></a></dt>
<dd><p>使用zipfile压缩单个文件(夹)下所有内容为.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 待压缩文件(夹)路径(应为相对路径)</p></li>
<li><p><strong>zip_path</strong> (<em>None</em><em>, </em><em>str</em>) – 压缩文件保存路径，若为None，则为fpath路径加后缀</p></li>
<li><p><strong>**kwargs</strong> – <a class="reference internal" href="#dramkit.iotools.zip_files" title="dramkit.iotools.zip_files"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotools.zip_files()</span></code></a> 接受的参数</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-fpaths">
<h3>zip_fpaths<a class="headerlink" href="#zip-fpaths" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_fpaths">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_fpaths</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_fpaths" title="Permalink to this definition"></a></dt>
<dd><p>使用zipfile将指定路径列表(包括子文件(夹)所有内容)打包为.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zip_path</strong> (<em>str</em>) – zip压缩包保存路径</p></li>
<li><p><strong>fpaths</strong> (<em>list</em>) – 需要压缩的路径列表(可为文件也可为文件夹, 应为相对路径)</p></li>
<li><p><strong>**kwargs</strong> – <a class="reference internal" href="#dramkit.iotools.zip_files" title="dramkit.iotools.zip_files"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.iotools.zip_files()</span></code></a> 接受的参数</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-extract">
<h3>zip_extract<a class="headerlink" href="#zip-extract" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_extract">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_extract</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_extract" title="Permalink to this definition"></a></dt>
<dd><p>用zipfile解压文件，待实现</p>
</dd></dl>

</section>
<section id="zip-fpath-7z">
<h3>zip_fpath_7z<a class="headerlink" href="#zip-fpath-7z" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_fpath_7z">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_fpath_7z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fpath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">zip_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_zip_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_fpath_7z" title="Permalink to this definition"></a></dt>
<dd><p>7z命令压缩单个文件(夹)到.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fpath</strong> (<em>str</em>) – 待压缩文件(夹)路径</p></li>
<li><p><strong>zip_path</strong> (<em>None</em><em>, </em><em>str</em>) – 压缩文件保存路径，若为None，则为fpath路径加后缀</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – 压缩文件后缀，可选[‘7z’, ‘zip’]</p></li>
<li><p><strong>pwd</strong> (<em>str</em>) – 密码字符串</p></li>
<li><p><strong>keep_zip_new</strong> (<em>bool</em>) – <ul>
<li><p>若为True，则zip_path将覆盖原来已经存在的文件</p></li>
<li><p>若为False，则zip_path将在原来已有的文件中新增需要压缩的文件</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="zip-fpaths-7z">
<h3>zip_fpaths_7z<a class="headerlink" href="#zip-fpaths-7z" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.zip_fpaths_7z">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">zip_fpaths_7z</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">zip_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fpaths</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'zip'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pwd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keep_zip_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.zip_fpaths_7z" title="Permalink to this definition"></a></dt>
<dd><p>7z命令压缩多个文件(夹)列表到.zip文件</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>zip_path</strong> (<em>str</em>) – zip压缩包保存路径</p></li>
<li><p><strong>fpaths</strong> (<em>list</em>) – <p>待压缩文件(夹)路径列表</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>fpaths太长的时候可能会报错</p>
</div>
</p></li>
<li><p><strong>mode</strong> (<em>str</em>) – 压缩文件后缀，可选[‘7z’, ‘zip’]</p></li>
<li><p><strong>pwd</strong> (<em>str</em>) – 密码字符串</p></li>
<li><p><strong>keep_zip_new</strong> (<em>bool</em>) – <ul>
<li><p>若为True，则zip_path将覆盖原来已经存在的文件</p></li>
<li><p>若为False，则zip_path将在原来已有的文件中新增需要压缩的文件</p></li>
</ul>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="extract-7z">
<h3>extract_7z<a class="headerlink" href="#extract-7z" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.extract_7z">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">extract_7z</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.extract_7z" title="Permalink to this definition"></a></dt>
<dd><p>7z命令解压文件，待实现</p>
</dd></dl>

</section>
<section id="rename-files-in-dir">
<h3>rename_files_in_dir<a class="headerlink" href="#rename-files-in-dir" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.rename_files_in_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">rename_files_in_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_rename</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.rename_files_in_dir" title="Permalink to this definition"></a></dt>
<dd><p>对指定文件夹中的文件进行批量重命名</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_path</strong> (<em>str</em>) – 目标文件夹</p></li>
<li><p><strong>func_rename</strong> (<em>function</em>) – 命名规则函数: name_new = func_rename(name)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="del-dir">
<h3>del_dir<a class="headerlink" href="#del-dir" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.del_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">del_dir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dir_path</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.del_dir" title="Permalink to this definition"></a></dt>
<dd><p>删除dir_path指定文件夹及其所有内容</p>
</dd></dl>

</section>
<section id="copy-file">
<h3>copy_file<a class="headerlink" href="#copy-file" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.copy_file">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">copy_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.copy_file" title="Permalink to this definition"></a></dt>
<dd><p>复制文件，待实现</p>
</dd></dl>

</section>
<section id="copy-dir">
<h3>copy_dir<a class="headerlink" href="#copy-dir" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.iotools.copy_dir">
<span class="sig-prename descclassname"><span class="pre">dramkit.iotools.</span></span><span class="sig-name descname"><span class="pre">copy_dir</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.iotools.copy_dir" title="Permalink to this definition"></a></dt>
<dd><p>复制文件夹，待实现</p>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Welcome to DramKit’s documentation!" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dramkit.logtools.html" class="btn btn-neutral float-right" title="logtools" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2021, YueYong Hu.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>