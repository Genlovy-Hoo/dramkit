<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>datsci &mdash; DramKit 0.1.2 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="find_addends" href="dramkit.find_addends.html" />
    <link rel="prev" title="backpacks" href="dramkit.backpacks.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> DramKit
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="dramkit.html">dramkit</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.backpacks.html">backpacks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">datsci</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.activate_funcs">activate_funcs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sigmoid">sigmoid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#softmax">softmax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#softmax2d">softmax2d</a></li>
<li class="toctree-l3"><a class="reference internal" href="#softplus">softplus</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tanh">tanh</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.ahp">ahp</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#score2jm">score2JM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-jm">check_JM</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cal-weights">cal_weights</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cal-weights-sim">cal_weights_sim</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cal-weights-mats">cal_weights_mats</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.ahp_sim_ri">ahp_sim_ri</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#cal-ci">cal_CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cal-ci-sim">cal_CI_sim</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gen-random-mat">gen_random_mat</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sim-ri">sim_ri</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-ris">get_RIs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.apriori">apriori</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gen-c1">gen_C1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-cksup-and-freqlk">get_CkSup_and_FreqLk</a></li>
<li class="toctree-l3"><a class="reference internal" href="#gen-ck-from-freqlk-1">gen_Ck_from_FreqLk_1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-cksup-and-freqlk-all">get_CkSup_and_FreqLk_all</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.curvature">curvature</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#curvature-3point">curvature_3point</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rolling-curvature-3point">rolling_curvature_3point</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plot-curvature">plot_curvature</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.elm_cls">elm_cls</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#elmclassifier">ELMClassifier</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.elm_reg">elm_reg</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#elmregressor">ELMRegressor</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.entropy_weight">entropy_weight</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">entropy_weight</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.find_maxmin">find_maxmin</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">find_maxmin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-maxmins">check_maxmins</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-his-maxmin-info">get_his_maxmin_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-last-pos-info">get_last_pos_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-maxmin-neighbor-label">get_maxmin_neighbor_label</a></li>
<li class="toctree-l3"><a class="reference internal" href="#del-tooclose-maxmin">del_tooclose_maxmin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-maxmin-records">get_maxmin_records</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-last-sure-maxmin-info">get_last_sure_maxmin_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-continue-maxmin-info">get_continue_maxmin_info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#disaper">disaper</a></li>
<li class="toctree-l3"><a class="reference internal" href="#find-maxmin-dy">find_maxmin_dy</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.freq_item_set">freq_item_set</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#gen-rules">gen_rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="#apriori-dramkit">apriori_dramkit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rules2df">rules2df</a></li>
<li class="toctree-l3"><a class="reference internal" href="#arpiori-mlx">arpiori_mlx</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fpgrowth-mlx">fpgrowth_mlx</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.lr">lr</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#lrclassifierbinary">LRClassifierBinary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lr-fit-sm">lr_fit_sm</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.preprocess">preprocess</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#externalstd">ExternalStd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#norm-std">norm_std</a></li>
<li class="toctree-l3"><a class="reference internal" href="#norm-linear">norm_linear</a></li>
<li class="toctree-l3"><a class="reference internal" href="#norm-mid">norm_mid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#norm01-mid">norm01_mid</a></li>
<li class="toctree-l3"><a class="reference internal" href="#norm-side">norm_side</a></li>
<li class="toctree-l3"><a class="reference internal" href="#norm01-side">norm01_side</a></li>
<li class="toctree-l3"><a class="reference internal" href="#norm-range">norm_range</a></li>
<li class="toctree-l3"><a class="reference internal" href="#norm01-range">norm01_range</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-pca">get_pca</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scale-skl">scale_skl</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scale-skl-inverse">scale_skl_inverse</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-miss-rate">get_miss_rate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fillna-ma">fillna_ma</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fillna-by-mean">fillna_by_mean</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fillna-by-median">fillna_by_median</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.stats">stats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fpdf">fpdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fcdf">fcdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ffit">ffit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-f-pdf">fit_f_pdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-f-cdf">fit_f_cdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ftest">ftest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tpdf">tpdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tcdf">tcdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tfit">tfit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-t-pdf">fit_t_pdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-t-cdf">fit_t_cdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ttest">ttest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chi2pdf">chi2pdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chi2cdf">chi2cdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chi2fit">chi2fit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-chi2-pdf">fit_chi2_pdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-chi2-cdf">fit_chi2_cdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#chi2test">chi2test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#normpdf">normpdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#normcdf">normcdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#normfit">normfit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-norm-pdf">fit_norm_pdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-norm-cdf">fit_norm_cdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#normtest">normtest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lognormpdf">lognormpdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lognormcdf">lognormcdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lognormfit">lognormfit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-lognorm-pdf">fit_lognorm_pdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-lognorm-cdf">fit_lognorm_cdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lognormtest">lognormtest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#weibullpdf">weibullpdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#weibullcdf">weibullcdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#weibullfit">weibullfit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-weibull-pdf">fit_weibull_pdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-weibull-cdf">fit_weibull_cdf</a></li>
<li class="toctree-l3"><a class="reference internal" href="#weibulltest">weibulltest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mse">mse</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r2">r2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r2adj">r2adj</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r2adj-by-r2">r2adj_by_r2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r2-by-mse">r2_by_mse</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r2adj-by-mse">r2adj_by_mse</a></li>
<li class="toctree-l3"><a class="reference internal" href="#r2-by-r2adj">r2_by_r2adj</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mse-by-r2">mse_by_r2</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rmse">rmse</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mae">mae</a></li>
<li class="toctree-l3"><a class="reference internal" href="#mape">mape</a></li>
<li class="toctree-l3"><a class="reference internal" href="#smape">smape</a></li>
<li class="toctree-l3"><a class="reference internal" href="#avedev">avedev</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cal-linear-reg-r">cal_linear_reg_r</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cummean">cummean</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delta-var-d0">delta_var_d0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delta-var-d">delta_var_d</a></li>
<li class="toctree-l3"><a class="reference internal" href="#delta-var">delta_var</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cumvar-nonan">cumvar_nonan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cumvar">cumvar</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cumstd">cumstd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cum-scale">cum_scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rolling-scale">rolling_scale</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-quantiles">get_quantiles</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cumrank-nonan">cumrank_nonan</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cumrank">cumrank</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-pct-loc">get_pct_loc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cum-n-unique">cum_n_unique</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cum-n-unique-pd">cum_n_unique_pd</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cum-pct-loc">cum_pct_loc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rolling-pct-loc">rolling_pct_loc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#parms-est">parms_est</a></li>
<li class="toctree-l3"><a class="reference internal" href="#auc">auc</a></li>
<li class="toctree-l3"><a class="reference internal" href="#var-hom-test">var_hom_test</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ind-ttest">ind_ttest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rel-ttest">rel_ttest</a></li>
<li class="toctree-l3"><a class="reference internal" href="#anova-oneway">anova_oneway</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.time_series">time_series</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id9">fillna_ma</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-directional-accuracy-1step">get_directional_accuracy_1step</a></li>
<li class="toctree-l3"><a class="reference internal" href="#genxy-x2d-y1d1step">genXy_X2d_y1d1step</a></li>
<li class="toctree-l3"><a class="reference internal" href="#predict-x2d-y1d1step">predict_X2d_y1d1step</a></li>
<li class="toctree-l3"><a class="reference internal" href="#valid-test-predict-x2d-y1d1step">valid_test_predict_X2d_y1d1step</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forward-predict-x2d-y1d1step">forward_predict_X2d_y1d1step</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forward-valid-test-predict-x2d-y1d1step">forward_valid_test_predict_X2d_y1d1step</a></li>
<li class="toctree-l3"><a class="reference internal" href="#genxy-x2d-y1dsteps">genXy_X2d_y1dsteps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forward-predict-x2d-y1dsteps">forward_predict_X2d_y1dsteps</a></li>
<li class="toctree-l3"><a class="reference internal" href="#forward-valid-test-predict-x2d-y1dsteps">forward_valid_test_predict_X2d_y1dsteps</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.topsis">topsis</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id14">topsis</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.utils_lgb">utils_lgb</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#check-parms-mdl">check_parms_mdl</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-parms-mdl">get_parms_mdl</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-parms-train-or-cv">get_parms_train_or_cv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lgb-train">lgb_train</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lgb-cv">lgb_cv</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lgb-cv-grid-search">lgb_cv_grid_search</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lgb-cv-hoo">lgb_cv_hoo</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lgb-predict">lgb_predict</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-features-importance">get_features_importance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#module-dramkit.datsci.utils_ml">utils_ml</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#vote-label-int">vote_label_int</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vote-prob-multi">vote_prob_multi</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vote-prob-bin-pcut">vote_prob_bin_pcut</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vote-prob-bin-rate1">vote_prob_bin_rate1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#auc-bin">auc_bin</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cal-f1-score">cal_f1_score</a></li>
<li class="toctree-l3"><a class="reference internal" href="#confusion-matrix">confusion_matrix</a></li>
<li class="toctree-l3"><a class="reference internal" href="#plot-roc-bin">plot_roc_bin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.find_addends.html">find_addends</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.fintools.html">fintools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.logtools.html">logtools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.optimizer.html">optimizer</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.other.html">other</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.plottools.html">plottools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.pystyles.html">pystyles</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.sorts.html">sorts</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.speedup.html">speedup</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.sqltools.html">sqltools</a></li>
<li class="toctree-l1"><a class="reference internal" href="dramkit.webtools.html">webtools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">DramKit</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>datsci</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/dramkit.datsci.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="datsci">
<h1>datsci<a class="headerlink" href="#datsci" title="Permalink to this headline"></a></h1>
<section id="module-dramkit.datsci.activate_funcs">
<span id="activate-funcs"></span><h2>activate_funcs<a class="headerlink" href="#module-dramkit.datsci.activate_funcs" title="Permalink to this headline"></a></h2>
<section id="sigmoid">
<h3>sigmoid<a class="headerlink" href="#sigmoid" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.activate_funcs.sigmoid">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.activate_funcs.</span></span><span class="sig-name descname"><span class="pre">sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.activate_funcs.sigmoid" title="Permalink to this definition"></a></dt>
<dd><p>sigmoid激活函数</p>
</dd></dl>

</section>
<section id="softmax">
<h3>softmax<a class="headerlink" href="#softmax" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.activate_funcs.softmax">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.activate_funcs.</span></span><span class="sig-name descname"><span class="pre">softmax</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.activate_funcs.softmax" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">softmax函数</div>
<div class="line">x为一维np.array或list或pd.Series</div>
<div class="line">若max_为True，则计算时减去x的最大值以防止取指数之后数据溢出</div>
<div class="line">参考：<a class="reference external" href="https://www.cnblogs.com/ysugyl/p/12922598.html">https://www.cnblogs.com/ysugyl/p/12922598.html</a></div>
</div>
</dd></dl>

</section>
<section id="softmax2d">
<h3>softmax2d<a class="headerlink" href="#softmax2d" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.activate_funcs.softmax2d">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.activate_funcs.</span></span><span class="sig-name descname"><span class="pre">softmax2d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x2d</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">axis</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.activate_funcs.softmax2d" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">softmax函数</div>
<div class="line">x是二维的np.array或list或dataframe</div>
<div class="line">若max_为True，则计算时减去x的最大值以防止取指数之后数据溢出</div>
<div class="line">参考：<a class="reference external" href="https://www.cnblogs.com/ysugyl/p/12922598.html">https://www.cnblogs.com/ysugyl/p/12922598.html</a></div>
</div>
</dd></dl>

</section>
<section id="softplus">
<h3>softplus<a class="headerlink" href="#softplus" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.activate_funcs.softplus">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.activate_funcs.</span></span><span class="sig-name descname"><span class="pre">softplus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.activate_funcs.softplus" title="Permalink to this definition"></a></dt>
<dd><p>softplus激活函数</p>
</dd></dl>

</section>
<section id="tanh">
<h3>tanh<a class="headerlink" href="#tanh" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.activate_funcs.tanh">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.activate_funcs.</span></span><span class="sig-name descname"><span class="pre">tanh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.activate_funcs.tanh" title="Permalink to this definition"></a></dt>
<dd><p>tanh激活函数</p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.ahp">
<span id="ahp"></span><h2>ahp<a class="headerlink" href="#module-dramkit.datsci.ahp" title="Permalink to this headline"></a></h2>
<section id="score2jm">
<h3>score2JM<a class="headerlink" href="#score2jm" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp.score2JM">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp.</span></span><span class="sig-name descname"><span class="pre">score2JM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_score</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_important_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">judge_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'big_score'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp.score2JM" title="Permalink to this definition"></a></dt>
<dd><p>将指标重要性评分转化为判断矩阵</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_score</strong> (<em>pd.DataFrame</em>) – 每列一个指标，每行为一个专家对不同指标的重要性打分，
打分要求均为正值，越大表示越重要</p></li>
<li><p><strong>max_important_level</strong> (<em>int</em>) – 构造判断矩阵时指标两两比较最大等级差，默认9
（两两比较重要性等级范围为1/9-9）</p></li>
<li><p><strong>judge_type</strong> (<em>str</em>) – <ul>
<li><p>‘big’表示两指标评分比较时，大于就记1分</p></li>
<li><p>’big_score’表示记分数差值</p></li>
<li><p>’score’表示直接用各自得分之和表示重要程度</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>judge_mat</strong> – 返回判断矩阵</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="check-jm">
<h3>check_JM<a class="headerlink" href="#check-jm" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp.check_JM">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp.</span></span><span class="sig-name descname"><span class="pre">check_JM</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">judge_mat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp.check_JM" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">检查判断矩阵是否符合条件：对称位置乘积是否为1</div>
<div class="line">tol为乘积与1比较时的误差范围控制</div>
</div>
</dd></dl>

</section>
<section id="cal-weights">
<h3>cal_weights<a class="headerlink" href="#cal-weights" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp.cal_weights">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp.</span></span><span class="sig-name descname"><span class="pre">cal_weights</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">judge_mat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RI_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_JM_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp.cal_weights" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">精确方法根据判断矩阵计算权重并进行一致性检验</div>
<div class="line">判断矩阵judge_mat应为np.array或pd.DataFrame</div>
<div class="line">RI_dict为随机一致性指标参考值，dict或None</div>
<div class="line">check_JM_tol为 <a class="reference internal" href="#dramkit.datsci.ahp.check_JM" title="dramkit.datsci.ahp.check_JM"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_JM()</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">tol</span></code> 参数</div>
<div class="line">返回权重向量w以及是否通过一致性检验（True or False）和(CR, CI, lmdmax,RI)等检验信息</div>
</div>
</dd></dl>

</section>
<section id="cal-weights-sim">
<h3>cal_weights_sim<a class="headerlink" href="#cal-weights-sim" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp.cal_weights_sim">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp.</span></span><span class="sig-name descname"><span class="pre">cal_weights_sim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">judge_mat</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RI_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_JM_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp.cal_weights_sim" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">近似方法根据判断矩阵计算权重并进行一致性检验</div>
<div class="line">判断矩阵judge_mat应为np.array或pd.DataFrame</div>
<div class="line">RI_dict为随机一致性指标参考值，dict或None</div>
<div class="line">check_JM_tol为 <a class="reference internal" href="#dramkit.datsci.ahp.check_JM" title="dramkit.datsci.ahp.check_JM"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_JM()</span></code></a> 的 <code class="docutils literal notranslate"><span class="pre">tol</span></code> 参数</div>
<div class="line">返回权重向量w以及是否通过一致性检验（True or False）和(CR, CI, lmdmax,RI)等检验信息</div>
<div class="line">参考:</div>
<div class="line">- 层次分析：层次分析法在确定绩效指标权重中的应用.pdf</div>
<div class="line">- <a class="reference external" href="https://zhuanlan.zhihu.com/p/37738503">https://zhuanlan.zhihu.com/p/37738503</a></div>
</div>
</dd></dl>

</section>
<section id="cal-weights-mats">
<h3>cal_weights_mats<a class="headerlink" href="#cal-weights-mats" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp.cal_weights_mats">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp.</span></span><span class="sig-name descname"><span class="pre">cal_weights_mats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">judge_mats</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">RI_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_bad_JM</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_JM_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp.cal_weights_mats" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">多个专家（多个判断矩阵）情况下AHP方法计算权重并进行一致性检验</div>
<div class="line">judge_mats为判断矩阵列表，每个矩阵应为np.array或pd.DataFrame</div>
<div class="line">RI_dict为随机一致性指标参考值，dict或None</div>
<div class="line">w_func指定单个判断矩阵时AHP计算权重的函数，其应接收参数judge_mat、RI_dict、check_JM_tol和logger</div>
<div class="line">w_func若不指定，则默认为 <a class="reference internal" href="#dramkit.datsci.ahp.cal_weights" title="dramkit.datsci.ahp.cal_weights"><code class="xref py py-func docutils literal notranslate"><span class="pre">cal_weights()</span></code></a></div>
<div class="line">返回权重向量w以及是否通过一致性检验（True or False）、(CR, CI, lmdmax,RI)等检验信息</div>
<div class="line">以及综合判断矩阵和专家判断力权值列表和一致性指标列表</div>
<div class="line">参考：</div>
<div class="line">- 多专家评价的AHP方法及其工程应用:</div>
<div class="line"><a class="reference external" href="https://www.doc88.com/p-9913949483932.html">https://www.doc88.com/p-9913949483932.html</a></div>
<div class="line">- 层次分析法中判断矩阵的群组综合构造方法:</div>
<div class="line"><a class="reference external" href="https://www.ixueshu.com/document/1b154ecb637fc9ea05675f42f11aa1a6318947a18e7f9386.html">https://www.ixueshu.com/document/1b154ecb637fc9ea05675f42f11aa1a6318947a18e7f9386.html</a></div>
</div>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.ahp_sim_ri">
<span id="ahp-sim-ri"></span><h2>ahp_sim_ri<a class="headerlink" href="#module-dramkit.datsci.ahp_sim_ri" title="Permalink to this headline"></a></h2>
<section id="cal-ci">
<h3>cal_CI<a class="headerlink" href="#cal-ci" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp_sim_ri.cal_CI">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp_sim_ri.</span></span><span class="sig-name descname"><span class="pre">cal_CI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">judge_mat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp_sim_ri.cal_CI" title="Permalink to this definition"></a></dt>
<dd><p>计算判断矩阵judge_mat的CI值，精确方法</p>
</dd></dl>

</section>
<section id="cal-ci-sim">
<h3>cal_CI_sim<a class="headerlink" href="#cal-ci-sim" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp_sim_ri.cal_CI_sim">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp_sim_ri.</span></span><span class="sig-name descname"><span class="pre">cal_CI_sim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">judge_mat</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp_sim_ri.cal_CI_sim" title="Permalink to this definition"></a></dt>
<dd><p>计算判断矩阵judge_mat的CI值，近似方法</p>
</dd></dl>

</section>
<section id="gen-random-mat">
<h3>gen_random_mat<a class="headerlink" href="#gen-random-mat" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp_sim_ri.gen_random_mat">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp_sim_ri.</span></span><span class="sig-name descname"><span class="pre">gen_random_mat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_indicator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choices</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp_sim_ri.gen_random_mat" title="Permalink to this definition"></a></dt>
<dd><p>产生num_indicator阶随机对称矩阵（即判断矩阵），随机值从choices中选择</p>
</dd></dl>

</section>
<section id="sim-ri">
<h3>sim_ri<a class="headerlink" href="#sim-ri" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp_sim_ri.sim_ri">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp_sim_ri.</span></span><span class="sig-name descname"><span class="pre">sim_ri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_indicator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_important_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">9</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">500</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp_sim_ri.sim_ri" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">模拟RI值</div>
<div class="line">num_indicator为指标个数，即判断矩阵阶数</div>
<div class="line">max_important_level为构造判断矩阵时指标两两比较最大等级差，默认9</div>
<div class="line">（两两比较重要性等级范围为1/9-9）</div>
</div>
</dd></dl>

</section>
<section id="get-ris">
<h3>get_RIs<a class="headerlink" href="#get-ris" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.ahp_sim_ri.get_RIs">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.ahp_sim_ri.</span></span><span class="sig-name descname"><span class="pre">get_RIs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_num_indicator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_sim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.ahp_sim_ri.get_RIs" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">AHP中随机一致性指标RI的模拟</div>
<div class="line">max_num_indicator设置模拟的最大指标数量</div>
<div class="line">num_sim设置随机模拟次数</div>
<div class="line">参考：</div>
<div class="line">- <a class="reference external" href="https://zhidao.baidu.com/question/13745867.html">https://zhidao.baidu.com/question/13745867.html</a></div>
<div class="line">- 层次分析：层次分析法在确定绩效指标权重中的应用.pdf</div>
<div class="line">- <a class="reference external" href="https://zhuanlan.zhihu.com/p/37738503">https://zhuanlan.zhihu.com/p/37738503</a></div>
</div>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.apriori">
<span id="apriori"></span><h2>apriori<a class="headerlink" href="#module-dramkit.datsci.apriori" title="Permalink to this headline"></a></h2>
<div class="line-block">
<div class="line">关联规则-Apriori算法实现</div>
<div class="line"><br /></div>
<div class="line">关联规则分析（挖掘）用于发现项目或项目集合之间可能存在的关联模式（或因果结构），</div>
<div class="line">如“由于某些事件的发生而引起另外一些事件的发生”之类的规则。</div>
<div class="line">经典的案例是通过关联规则挖掘发现“买尿布的年轻父亲通常也会顺便为自己买啤酒”。</div>
<div class="line"><br /></div>
<div class="line">关联规则数据集示例：</div>
<div class="line">编号, 交易清单</div>
<div class="line">001, 可乐 &amp; 鸡蛋 &amp; 香肠</div>
<div class="line">002, 可乐 &amp; 尿布 &amp; 啤酒</div>
<div class="line">003, 可乐 &amp; 尿布 &amp; 啤酒 &amp; 香肠</div>
<div class="line">004, 尿布 &amp; 啤酒</div>
<div class="line"><br /></div>
<div class="line">基本概念：</div>
<div class="line">1. 事务：每一个样本（一条交易记录）称为一个事务，示例中的数据集包含四个事务。</div>
<div class="line">2. 项：事务（交易记录）中的每一个组成部分（交易物品）称为一个项，例如可乐、鸡蛋等。</div>
<div class="line">3. 项集：包含零个或多个项的集合叫做项集，例如{可乐, 鸡蛋, 香肠}。</div>
<div class="line">4. k项集：包含k个项的项集叫做k-项集，{可乐}是1项集，{可乐, 鸡蛋}是2项集。</div>
<div class="line">5. 支持度计数：一个项集在数据集不同事务中出现的次数。
示例中{尿布, 啤酒}出现在事务002、003和004中，其支持度计数为3。</div>
<div class="line">6. 支持度：支持度计数除以总的事务数。
示例中{尿布, 啤酒}的支持度为3÷4=0.75（有75%的人同时买了尿布和啤酒）。</div>
<div class="line">7. 频繁项集：支持度不小于给定阈值的项集就叫做频繁项集。
若阈值设为0.7，示例中{尿布, 啤酒}的支持度是0.75 &gt; 0.7，是频繁项集。</div>
<div class="line">8. 前件和后件：对于规则{尿布}→{啤酒}，{尿布}叫做前件，{啤酒}叫做后件。</div>
<div class="line">9. 置信度：对于规则{X}→{Y}，其置信度为Conf=P(Y|X)=P(XY)/P(X)（条件概率公式）。
示例中规则{尿布}→{啤酒}的支持度为3÷3=1（即{尿布, 啤酒}的支持度计数除以
{尿布}的支持度计数），置信度为100%说明买了尿布的人100%也买了啤酒）。</div>
<div class="line">10. 强关联规则：大于或等于最小支持度阈值和最小置信度阈值的规则叫做强关联规则。</div>
<div class="line">11. 提升度：对于规则{X}→{Y}，其提升度为Lift=P(Y|X)/P(Y)=Conf/P(Y)。
提升度度量了后件分别在以前件为条件和不以前件为条件时发生概率的比值。
提升度大于1表示关联规则有效（在X发生的情况下Y发生的概率比Y本身发生的概率大），
提升度小于等于1表示，关联规则无效（在X发生的情况下Y发生的概率不变或者反而变小了）。</div>
<div class="line"><br /></div>
<div class="line">关联规则挖掘的最终目的就是要找出有效的强关联规则。</div>
<div class="line"><br /></div>
<div class="line">关联规则原理其实很简单，就是贝叶斯公式及其拓展。</div>
<div class="line">关联规则挖掘难点在于如何高效快速地从大量数据中发现有效的强关联规则，
因为事务中不同项的组合可以形成的规则数量很庞大。</div>
<div class="line">(假设有n个商品，潜在的关联规则数量为n*(n-1)+n*(n-1)*(n-2)+···，枚举法几乎不能用)</div>
<div class="line"><br /></div>
<div class="line">Apriori算法基于两个定律，能有效提升挖掘效率。</div>
<div class="line"><br /></div>
<div class="line"><strong>Apriori定律1</strong> ：如果一个集合是频繁项集，则它的所有子集都是频繁项集。</div>
<div class="line-block">
<div class="line">eg. 若集合{A, B}是频繁项集，由于出现{A, B}的地方一定会出现{A}和{B}，
因此{A}和{B}出现的次数一定不小于{A, B}，故{A}和{B}一定是频繁项集。</div>
<div class="line"><br /></div>
</div>
<div class="line"><strong>Apriori定律2</strong> ：如果一个集合不是频繁项集，则它的所有超集都不是频繁项集。</div>
<div class="line-block">
<div class="line">eg. 若集合{A}不是频繁项集，由于出现{A}的地方不一定出现{A, B}，
因此{A, B}出现的次数一定不大于{A}，故{A}的超集{A, B}一定不是频繁项集。</div>
<div class="line"><br /></div>
</div>
<div class="line">基于两个定律，Apriori思路是以最小支持度为条件先找出所有频繁项集，然后由频繁项集构建规则，
再计算置信度和支持度筛选出有效强关联规则。寻找频繁项集算法流程如下：</div>
<div class="line"><br /></div>
<div class="line">step1. 扫描整个数据集，得到所有出现过的项，作为候选频繁1项集C(1)。</div>
<div class="line">step2. 对k &gt;= 1，筛选出频繁k项集L(k)。</div>
<div class="line-block">
<div class="line">step2.1. 计算候选频繁k项集的支持度（需要扫描整个数据集）。</div>
<div class="line">step2.2. 去除候选频繁k项集中支持度低于阈值的项集（依据定律2），
得到频繁k项集L(k)并保存，如果得到的频繁k项集L(k)为空集或只有一项，
则返回所有频繁项集，算法结束。</div>
<div class="line">step2.3. 基于频繁k项集，项集之间取并集生成候选频繁k+1项集C(k+1)。</div>
</div>
<div class="line">step3. 令k=k+1，转入step2。</div>
<div class="line"><br /></div>
<div class="line">得到所有频繁项集之后，再在频繁项集的子集之间构建规则并计算置信度和提升度，
筛选出有效强关联规则即可。</div>
<div class="line"><br /></div>
<div class="line">缺点:</div>
<div class="line">Aprior算法每轮迭代筛选频繁k项集都要扫描整个数据集，因此在数据集很大，
数据种类很多的时候，算法效率仍然很低。</div>
<div class="line"><br /></div>
<div class="line">参考:</div>
<div class="line"><a class="reference external" href="https://blog.csdn.net/qq_23860475/article/details/80824568">https://blog.csdn.net/qq_23860475/article/details/80824568</a></div>
<div class="line"><a class="reference external" href="https://www.cnblogs.com/pinard/p/6293298.html">https://www.cnblogs.com/pinard/p/6293298.html</a></div>
<div class="line"><a class="reference external" href="https://www.jianshu.com/p/26d61b83492e">https://www.jianshu.com/p/26d61b83492e</a></div>
<div class="line"><a class="reference external" href="https://blog.csdn.net/zllnau66/article/details/81534368">https://blog.csdn.net/zllnau66/article/details/81534368</a></div>
<div class="line"><a class="reference external" href="https://www.cnblogs.com/MaggieForest/p/12176915.html">https://www.cnblogs.com/MaggieForest/p/12176915.html</a></div>
<div class="line"><a class="reference external" href="https://www.jianshu.com/p/fba9e41334a8">https://www.jianshu.com/p/fba9e41334a8</a></div>
<div class="line"><a class="reference external" href="https://blog.csdn.net/tangyudi/article/details/88822705">https://blog.csdn.net/tangyudi/article/details/88822705</a></div>
</div>
<section id="gen-c1">
<h3>gen_C1<a class="headerlink" href="#gen-c1" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.apriori.gen_C1">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.apriori.</span></span><span class="sig-name descname"><span class="pre">gen_C1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.apriori.gen_C1" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">生成初始项集C1，每个项集以python不变集合frozenset格式保存。</div>
<div class="line">数据集dataset为list格式，每个list元素为一个样本（即由不同项组成的事务）。</div>
</div>
</dd></dl>

</section>
<section id="get-cksup-and-freqlk">
<h3>get_CkSup_and_FreqLk<a class="headerlink" href="#get-cksup-and-freqlk" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.apriori.get_CkSup_and_FreqLk">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.apriori.</span></span><span class="sig-name descname"><span class="pre">get_CkSup_and_FreqLk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Ck</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_sup</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.apriori.get_CkSup_and_FreqLk" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">筛选频繁项集</div>
<div class="line">扫描数据集dataset(dataset为list格式，每条事务记录以set或frozenset格式保存)，</div>
<div class="line">计算Ck中项集的支持度CkSup，并筛选出Ck中不小于最小支持度min_sup的频繁项集列表FreqLk。</div>
</div>
</dd></dl>

</section>
<section id="gen-ck-from-freqlk-1">
<h3>gen_Ck_from_FreqLk_1<a class="headerlink" href="#gen-ck-from-freqlk-1" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.apriori.gen_Ck_from_FreqLk_1">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.apriori.</span></span><span class="sig-name descname"><span class="pre">gen_Ck_from_FreqLk_1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">FreqLk_1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.apriori.gen_Ck_from_FreqLk_1" title="Permalink to this definition"></a></dt>
<dd><p>由频繁k-1项集FreqLk_1生成k项集Ck</p>
</dd></dl>

</section>
<section id="get-cksup-and-freqlk-all">
<h3>get_CkSup_and_FreqLk_all<a class="headerlink" href="#get-cksup-and-freqlk-all" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.apriori.get_CkSup_and_FreqLk_all">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.apriori.</span></span><span class="sig-name descname"><span class="pre">get_CkSup_and_FreqLk_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_sup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.apriori.get_CkSup_and_FreqLk_all" title="Permalink to this definition"></a></dt>
<dd><p>Apriori算法寻找最大频繁K项集</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dataset</strong> (<em>list</em>) – 数据集，list中每个元素为一个样本（即由不同项组成的事务，也为list）</p></li>
<li><p><strong>min_sup</strong> (<em>float</em>) – 最小支持度阈值</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>FreqLk_all</strong> (<em>list</em>) – 所有频繁项集FreqLk，每个元素均为频繁项集列表，
如FreqLk_all[1]为所有频繁2项集列表。</p></li>
<li><p><strong>CkSup_all</strong> (<em>dict</em>) – 所有Ck的支持度</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CkSup_all中保存了每一步Ck中所有项集的支持度，
因此CkSup_all中并不是所有Ck全部都满足最小支持度的。</p>
</div>
</li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.curvature">
<span id="curvature"></span><h2>curvature<a class="headerlink" href="#module-dramkit.datsci.curvature" title="Permalink to this headline"></a></h2>
<section id="curvature-3point">
<h3>curvature_3point<a class="headerlink" href="#curvature-3point" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.curvature.curvature_3point">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.curvature.</span></span><span class="sig-name descname"><span class="pre">curvature_3point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.curvature.curvature_3point" title="Permalink to this definition"></a></dt>
<dd><p>根据三个离散点计算曲率</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>list</em>) – 三个点x轴坐标列表</p></li>
<li><p><strong>y</strong> (<em>list</em>) – 三个点y轴坐标列表</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>curvature</strong> (<em>float</em>) – 曲率大小</p></li>
<li><p><strong>dircts</strong> (<em>np.array</em>) – 曲率方向（标准化）</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/Pjer-zhang/Curvature_3Point">https://github.com/Pjer-zhang/Curvature_3Point</a></p></li>
<li><p><a class="reference external" href="https://zhuanlan.zhihu.com/p/72083902">https://zhuanlan.zhihu.com/p/72083902</a></p></li>
</ul>
</dd></dl>

</section>
<section id="rolling-curvature-3point">
<h3>rolling_curvature_3point<a class="headerlink" href="#rolling-curvature-3point" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.curvature.rolling_curvature_3point">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.curvature.</span></span><span class="sig-name descname"><span class="pre">rolling_curvature_3point</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xcol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_pre</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_post</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.curvature.rolling_curvature_3point" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">三点法滚动计算曲率</div>
<div class="line">data(<cite>pd.DataFrame</cite>)应包含[xcol, ycol]列</div>
<div class="line">返回df包含[‘curvature’, ‘dirct_x’, ‘dirct_y’]三列</div>
</div>
</dd></dl>

</section>
<section id="plot-curvature">
<h3>plot_curvature<a class="headerlink" href="#plot-curvature" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.curvature.plot_curvature">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.curvature.</span></span><span class="sig-name descname"><span class="pre">plot_curvature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_xy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_dirt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ax_equal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quvier_clor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xyline_styl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(9,</span> <span class="pre">6)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.curvature.plot_curvature" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">绘制曲率图像</div>
<div class="line">data中的cols应包含绘制曲率所需的全部列，包括：</div>
<div class="line">[x坐标列, y坐标列, 曲率值列, x方向列, y方向列]，且遵循此顺序</div>
</div>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.elm_cls">
<span id="elm-cls"></span><h2>elm_cls<a class="headerlink" href="#module-dramkit.datsci.elm_cls" title="Permalink to this headline"></a></h2>
<section id="elmclassifier">
<h3>ELMClassifier<a class="headerlink" href="#elmclassifier" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.datsci.elm_cls.ELMClassifier">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.datsci.elm_cls.</span></span><span class="sig-name descname"><span class="pre">ELMClassifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_hide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_act</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'softplus'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5262</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_cls.ELMClassifier" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<div class="line-block">
<div class="line">极限学习机，分类任务</div>
</div>
<div class="line-block">
<div class="line">记输入为层X，输出层为Y，隐藏层为H，样本量为Nsmp、X特征数为NcolX、</div>
<div class="line">隐藏层节点数为n_hide、Y特征数为NcolY，则ELM的过程为：</div>
<div class="line-block">
<div class="line">H(Nsmp*n_hide) = X(Nsmp*NcolX) * w(NcolX*n_hide) + b((Nsmp*1)*n_hide)</div>
<div class="line">Y(Nsmp*NcolY) = H(Nsmp*n_hide) * beta(n_hide*NcolY)</div>
</div>
</div>
<div class="line-block">
<div class="line">ELM的训练过程：W和b随机生成，beta则利用公式求解析解(beta = H的MP广义逆 * Y)</div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://blog.csdn.net/m0_37922734/article/details/80424133">https://blog.csdn.net/m0_37922734/article/details/80424133</a></p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/qq_32892383/article/details/90760481">https://blog.csdn.net/qq_32892383/article/details/90760481</a></p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/qq_40360172/article/details/105175946">https://blog.csdn.net/qq_40360172/article/details/105175946</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_cls.ELMClassifier.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_hide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_act</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'softplus'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5262</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_cls.ELMClassifier.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_hide</strong> (<em>int</em>) – 隐层节点数</p></li>
<li><p><strong>func_act</strong> (<em>str</em><em>, </em><em>function</em>) – 激活函数，可选[‘softplus’, ‘sigmoid’, ‘tanh’]或自定义</p></li>
<li><p><strong>w_low</strong> (<em>float</em>) – 输入层—&gt;隐层权重w取值下限</p></li>
<li><p><strong>w_up</strong> (<em>float</em>) – 输入层—&gt;隐层权重w取值上限</p></li>
<li><p><strong>b_low</strong> (<em>float</em>) – 输入层—&gt;隐层偏置项b取值下限</p></li>
<li><p><strong>b_up</strong> (<em>float</em>) – 输入层—&gt;隐层偏置项b取值上限</p></li>
<li><p><strong>c</strong> (<em>float</em><em>, </em><em>None</em>) – 正则化参数</p></li>
<li><p><strong>random_state</strong> (<em>None</em><em>, </em><em>int</em>) – 随机数种子</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_cls.ELMClassifier.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_cls.ELMClassifier.fit" title="Permalink to this definition"></a></dt>
<dd><p>模型训练</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_train</strong> (<em>pd.DataFrame</em><em>, </em><em>np.array</em>) – 训练集输入，每行一个样本</p></li>
<li><p><strong>y_train</strong> (<em>pd.DataFrame</em><em>, </em><em>np.array</em>) – 训练集输出，每行一个样本</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_cls.ELMClassifier.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_cls.ELMClassifier.predict" title="Permalink to this definition"></a></dt>
<dd><p>模型预测，x每行为一个待预测样本</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_cls.ELMClassifier.predict_proba">
<span class="sig-name descname"><span class="pre">predict_proba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_cls.ELMClassifier.predict_proba" title="Permalink to this definition"></a></dt>
<dd><p>概率预测</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_cls.ELMClassifier.sigmoid">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_cls.ELMClassifier.sigmoid" title="Permalink to this definition"></a></dt>
<dd><p>sigmoid激活函数</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_cls.ELMClassifier.softplus">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">softplus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_cls.ELMClassifier.softplus" title="Permalink to this definition"></a></dt>
<dd><p>softplus激活函数</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_cls.ELMClassifier.tanh">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tanh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_cls.ELMClassifier.tanh" title="Permalink to this definition"></a></dt>
<dd><p>tanh激活函数</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.elm_reg">
<span id="elm-reg"></span><h2>elm_reg<a class="headerlink" href="#module-dramkit.datsci.elm_reg" title="Permalink to this headline"></a></h2>
<section id="elmregressor">
<h3>ELMRegressor<a class="headerlink" href="#elmregressor" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.datsci.elm_reg.ELMRegressor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.datsci.elm_reg.</span></span><span class="sig-name descname"><span class="pre">ELMRegressor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_hide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_act</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'softplus'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5262</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_reg.ELMRegressor" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<div class="line-block">
<div class="line">极限学习机，回归任务</div>
</div>
<div class="line-block">
<div class="line">记输入为层X，输出层为Y，隐藏层为H，样本量为Nsmp、X特征数为NcolX、</div>
<div class="line">隐藏层节点数为n_hide、Y特征数为NcolY，则ELM的过程为：</div>
<div class="line-block">
<div class="line">H(Nsmp*n_hide) = X(Nsmp*NcolX) * w(NcolX*n_hide) + b((Nsmp*1)*n_hide)</div>
<div class="line">Y(Nsmp*NcolY) = H(Nsmp*n_hide) * beta(n_hide*NcolY)</div>
</div>
</div>
<div class="line-block">
<div class="line">ELM的训练过程：W和b随机生成，beta则利用公式求解析解(beta = H的MP广义逆 * Y)</div>
</div>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://blog.csdn.net/m0_37922734/article/details/80424133">https://blog.csdn.net/m0_37922734/article/details/80424133</a></p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/qq_32892383/article/details/90760481">https://blog.csdn.net/qq_32892383/article/details/90760481</a></p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/qq_40360172/article/details/105175946">https://blog.csdn.net/qq_40360172/article/details/105175946</a></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_reg.ELMRegressor.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n_hide</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_act</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'softplus'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_low</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_up</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5262</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_reg.ELMRegressor.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n_hide</strong> (<em>int</em>) – 隐层节点数</p></li>
<li><p><strong>func_act</strong> (<em>str</em><em>, </em><em>function</em>) – 激活函数，可选[‘softplus’, ‘sigmoid’, ‘tanh’]或自定义</p></li>
<li><p><strong>w_low</strong> (<em>float</em>) – 输入层—&gt;隐层权重w取值下限</p></li>
<li><p><strong>w_up</strong> (<em>float</em>) – 输入层—&gt;隐层权重w取值上限</p></li>
<li><p><strong>b_low</strong> (<em>float</em>) – 输入层—&gt;隐层偏置项b取值下限</p></li>
<li><p><strong>b_up</strong> (<em>float</em>) – 输入层—&gt;隐层偏置项b取值上限</p></li>
<li><p><strong>c</strong> (<em>float</em><em>, </em><em>None</em>) – 正则化参数</p></li>
<li><p><strong>random_state</strong> (<em>None</em><em>, </em><em>int</em>) – 随机数种子</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_reg.ELMRegressor.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_reg.ELMRegressor.fit" title="Permalink to this definition"></a></dt>
<dd><p>模型训练</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_train</strong> (<em>pd.DataFrame</em><em>, </em><em>np.array</em>) – 训练集输入，每行一个样本</p></li>
<li><p><strong>y_train</strong> (<em>pd.DataFrame</em><em>, </em><em>np.array</em>) – 训练集输出，每行一个样本</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_reg.ELMRegressor.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_reg.ELMRegressor.predict" title="Permalink to this definition"></a></dt>
<dd><p>模型预测，x每行为一个待预测样本</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_reg.ELMRegressor.sigmoid">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_reg.ELMRegressor.sigmoid" title="Permalink to this definition"></a></dt>
<dd><p>sigmoid激活函数</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_reg.ELMRegressor.softplus">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">softplus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_reg.ELMRegressor.softplus" title="Permalink to this definition"></a></dt>
<dd><p>softplus激活函数</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.elm_reg.ELMRegressor.tanh">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tanh</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.elm_reg.ELMRegressor.tanh" title="Permalink to this definition"></a></dt>
<dd><p>tanh激活函数</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.entropy_weight">
<span id="entropy-weight"></span><h2>entropy_weight<a class="headerlink" href="#module-dramkit.datsci.entropy_weight" title="Permalink to this headline"></a></h2>
<section id="id1">
<h3>entropy_weight<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.entropy_weight.entropy_weight">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.entropy_weight.</span></span><span class="sig-name descname"><span class="pre">entropy_weight</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neg_cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">score_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.entropy_weight.entropy_weight" title="Permalink to this definition"></a></dt>
<dd><p>熵值法计算变量的权重</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – 样本数据，每行一个样本，每列一个指标，为每个指标计算权重
(注意：df应先删除或填充无效值)</p></li>
<li><p><strong>neg_cols</strong> (<em>list</em>) – 负向指标列名列表</p></li>
<li><p><strong>score_type</strong> (<em>None</em><em>, </em><em>str</em>) – 可选[None, ‘ori’, ‘std’]，分别表示不计算每个样本得分、
以原始数据计算每个样本得分、以标准化数据计算每个样本得分</p></li>
<li><p><strong>Returns</strong> – </p></li>
<li><p><strong>w</strong> (<em>pd.DataFrame</em>) – 权重向量’weight’，w.index为df.columns</p></li>
<li><p><strong>score</strong> (<em>None</em><em>, </em><em>pd.DataFrame</em>) – 每个样本得分，列名为’score’，若score_type为None，则为None</p></li>
</ul>
</dd>
</dl>
<p class="rubric">References</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.jianshu.com/p/3e08e6f6e244">https://www.jianshu.com/p/3e08e6f6e244</a></p></li>
<li><p><a class="reference external" href="https://blog.csdn.net/qq_24975309/article/details/82026022">https://blog.csdn.net/qq_24975309/article/details/82026022</a></p></li>
<li><p><a class="reference external" href="https://wenku.baidu.com/view/06f7590602768e9950e7386a.html">https://wenku.baidu.com/view/06f7590602768e9950e7386a.html</a></p></li>
<li><p><a class="reference external" href="https://www.jianshu.com/p/51e3f4d75943">https://www.jianshu.com/p/51e3f4d75943</a></p></li>
</ul>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.find_maxmin">
<span id="find-maxmin"></span><h2>find_maxmin<a class="headerlink" href="#module-dramkit.datsci.find_maxmin" title="Permalink to this headline"></a></h2>
<section id="id2">
<h3>find_maxmin<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.find_maxmin">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">find_maxmin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_dif_pct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_dif_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dif_pct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_dif_val</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pct_v00</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skip_nan</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.find_maxmin" title="Permalink to this definition"></a></dt>
<dd><p>标注序列中的极值点</p>
<div class="admonition-todo admonition" id="id3">
<p class="admonition-title">Todo</p>
<p>series中存在nan时的值填充及信号纠正处理</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>pd.Series</em>) – 待标注极值点的序列</p></li>
<li><p><strong>t_min</strong> (<em>int</em>) – 设置极大极小值之间至少需要间隔t_min个点(相当于最小半周期)</p></li>
<li><p><strong>t_max</strong> (<em>int</em>) – 设置极大极小值直接最大间隔期数(若间隔大于t_max，则直接保留极值点，不进行其它判断)</p></li>
<li><p><strong>min_dif_val</strong> (<em>float</em>) – 若两个相邻极值点之间的间隔大于等于t_min，但是两者差值/百分比小于
min_dif_val/min_dif_pct，则删除该极值点对</p></li>
<li><p><strong>min_dif_pct</strong> (<em>float</em>) – 若两个相邻极值点之间的间隔大于等于t_min，但是两者差值/百分比小于
min_dif_val/min_dif_pct，则删除该极值点对</p></li>
<li><p><strong>max_dif_val</strong> (<em>float</em>) – 若两个相邻极值点之间的间隔小于t_min，但是两者差值/百分比大于
max_dif_val/max_dif_pct，则保留该极值点对（两个参数二选一）</p></li>
<li><p><strong>max_dif_pct</strong> (<em>float</em>) – 若两个相邻极值点之间的间隔小于t_min，但是两者差值/百分比大于
max_dif_val/max_dif_pct，则保留该极值点对（两个参数二选一）</p></li>
<li><p><strong>pct_v00</strong> (<em>float</em>) – 当使用百分比控制差值时，若前一个值为0时，指定的百分比变化值</p></li>
<li><p><strong>skip_nan</strong> (<em>float</em>) – 当series中存在nan值时，是否继续，若为False，则抛出异常，为True则抛出警告信息</p></li>
<li><p><strong>logger</strong> (<em>None</em><em>, </em><em>Logger</em>) – 日志记录器</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>label</strong> – 标注的极值序列，其值中1表示极大值点，-1表示极小值点，0表示普通点</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.Series</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="check-maxmins">
<h3>check_maxmins<a class="headerlink" href="#check-maxmins" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.check_maxmins">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">check_maxmins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.check_maxmins" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">检查df中col_label指定列的极值点排列是否正确</div>
<div class="line">要求df须包含指定的两列，其中：</div>
<div class="line">- col_label指定列保存极值点，其值max_lbl(int，默认1)表示极大值，
min_lbl(int，默认-1)表示极小值，其余(默认0)为普通点</div>
<div class="line">- col列为序列数值列</div>
<div class="line"><br /></div>
<div class="line">返回判断结果(True或False)以及错误信息</div>
</div>
</dd></dl>

</section>
<section id="get-his-maxmin-info">
<h3>get_his_maxmin_info<a class="headerlink" href="#get-his-maxmin-info" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.get_his_maxmin_info">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">get_his_maxmin_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.get_his_maxmin_info" title="Permalink to this definition"></a></dt>
<dd><p>获取历史极值点序列信息</p>
</dd></dl>

</section>
<section id="get-last-pos-info">
<h3>get_last_pos_info<a class="headerlink" href="#get-last-pos-info" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.get_last_pos_info">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">get_last_pos_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_lbl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.get_last_pos_info" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取最后一条记录在极大极小值间的位置信息</div>
<div class="line">min_gap若大于0，则强制将最后min_gap条记录的标签去除</div>
</div>
</dd></dl>

</section>
<section id="get-maxmin-neighbor-label">
<h3>get_maxmin_neighbor_label<a class="headerlink" href="#get-maxmin-neighbor-label" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.get_maxmin_neighbor_label">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">get_maxmin_neighbor_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[-</span> <span class="pre">1,</span> <span class="pre">1]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label0</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_pct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.get_maxmin_neighbor_label" title="Permalink to this definition"></a></dt>
<dd><p>极大极小值邻近点标签标注</p>
<div class="admonition-todo admonition" id="id4">
<p class="admonition-title">Todo</p>
<p>处理不同标签重复标注问题</p>
</div>
</dd></dl>

</section>
<section id="del-tooclose-maxmin">
<h3>del_tooclose_maxmin<a class="headerlink" href="#del-tooclose-maxmin" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.del_tooclose_maxmin">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">del_tooclose_maxmin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_pct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.del_tooclose_maxmin" title="Permalink to this definition"></a></dt>
<dd><p>删除 <a class="reference internal" href="#dramkit.datsci.find_maxmin.find_maxmin" title="dramkit.datsci.find_maxmin.find_maxmin"><code class="xref py py-func docutils literal notranslate"><span class="pre">find_maxmin()</span></code></a> 结果中极大值和极小值差别太小的极值点</p>
</dd></dl>

</section>
<section id="get-maxmin-records">
<h3>get_maxmin_records<a class="headerlink" href="#get-maxmin-records" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.get_maxmin_records">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">get_maxmin_records</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxmin_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'maxmin'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.get_maxmin_records" title="Permalink to this definition"></a></dt>
<dd><p>获取所有maxmin记录</p>
</dd></dl>

</section>
<section id="get-last-sure-maxmin-info">
<h3>get_last_sure_maxmin_info<a class="headerlink" href="#get-last-sure-maxmin-info" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.get_last_sure_maxmin_info">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">get_last_sure_maxmin_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxmin_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'maxmin'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">price_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ma'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sure_gap_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sure_pct_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.001</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.get_last_sure_maxmin_info" title="Permalink to this definition"></a></dt>
<dd><p>获取最后一个确定的maxmin标签信息</p>
</dd></dl>

</section>
<section id="get-continue-maxmin-info">
<h3>get_continue_maxmin_info<a class="headerlink" href="#get-continue-maxmin-info" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.get_continue_maxmin_info">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">get_continue_maxmin_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxmins_his</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxmin_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'maxmin'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.get_continue_maxmin_info" title="Permalink to this definition"></a></dt>
<dd><p>获取连续maxmin标签的连续期数和信号类型</p>
</dd></dl>

</section>
<section id="disaper">
<h3>disaper<a class="headerlink" href="#disaper" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.disaper">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">disaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxmins_his</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_iloc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'idx'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tol_gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.disaper" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">判断maxmin信号消失</div>
<div class="line">loc指定位置，tol_gap设置误差范围</div>
</div>
</dd></dl>

</section>
<section id="find-maxmin-dy">
<h3>find_maxmin_dy<a class="headerlink" href="#find-maxmin-dy" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.find_maxmin.find_maxmin_dy">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.find_maxmin.</span></span><span class="sig-name descname"><span class="pre">find_maxmin_dy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_min</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">his_lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minGap_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minDif_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minPct_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxGap_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxDif_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxPct_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMinGap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMinDif</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMinPct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minGap_max2nowMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minDif_max2nowMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minPct_max2nowMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMinGap_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMinDif_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMinPct_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Min_max_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Min_max_pre_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minGap_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minDif_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minPct_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxGap_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxDif_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxPct_max2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMaxGap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMaxDif</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMaxPct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minGap_min2nowMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minDif_min2nowMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">minPct_min2nowMax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMaxGap_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMaxDif_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dirtSureMaxPct_min2now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Max_min_now</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Max_min_pre_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">inf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_log</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig_save_dir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_all</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_findMaxMin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_sleep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.find_maxmin.find_maxmin_dy" title="Permalink to this definition"></a></dt>
<dd><p>动态标签确定</p>
<div class="admonition-todo admonition" id="id5">
<p class="admonition-title">Todo</p>
<p>待重新实现</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>his_lag</strong> (<em>int</em><em>, </em><em>None</em>) – 从第his_lag条记录处开始动态标注，若为None则默认为4*t_min</p></li>
<li><p><strong>use_all</strong> (<em>bool</em>) – 若为True，每次动态标注时使用之前的所有历史数据，否则只使用前his_lag期数据</p></li>
<li><p><strong>动态确定标签参数和规则（以确定极小值信号为例，极大值同理），（待补充）</strong> – </p></li>
<li><p><strong>logger</strong> (<em>Logger</em><em>, </em><em>None</em>) – 日志记录器</p></li>
<li><p><strong>n_log</strong> (<em>int</em><em>, </em><em>None</em>) – 每隔n_log期日志提示进度</p></li>
<li><p><strong>fig_save_dir</strong> (<em>str</em><em>, </em><em>bool</em>) – 若为False，则不做图；若为文件夹路径，则画图并保存到文件夹；若为None，则绘图但不保存</p></li>
<li><p><strong>plot_all</strong> (<em>bool</em>) – 若为False，则只有在确定为极大/小值是才绘图，否则每期都绘图</p></li>
<li><p><strong>plot_lag</strong> (<em>None</em><em>, </em><em>str</em><em>, </em><em>int</em>) – 指定每次画图时往前取plot_lag期历史数据进行绘图。
若为None，则取his_lag；若为`all`，则取所有历史期数。</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.freq_item_set">
<span id="freq-item-set"></span><h2>freq_item_set<a class="headerlink" href="#module-dramkit.datsci.freq_item_set" title="Permalink to this headline"></a></h2>
<div class="line-block">
<div class="line">频繁项集挖掘数据集和算法研究资料参考：</div>
<div class="line"><a class="reference external" href="http://fimi.uantwerpen.be/">http://fimi.uantwerpen.be/</a></div>
<div class="line"><a class="reference external" href="http://fimi.uantwerpen.be/data/">http://fimi.uantwerpen.be/data/</a></div>
<div class="line"><a class="reference external" href="http://fimi.uantwerpen.be/src/">http://fimi.uantwerpen.be/src/</a></div>
</div>
<section id="gen-rules">
<h3>gen_rules<a class="headerlink" href="#gen-rules" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.freq_item_set.gen_rules">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.freq_item_set.</span></span><span class="sig-name descname"><span class="pre">gen_rules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">FreqSets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">setSups</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_conf</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.freq_item_set.gen_rules" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">生成关联规则并计算置信度和提升度</div>
<div class="line">FreqSets(list)为所有频繁项集列表</div>
<div class="line">setSups(dict)为项集支持度，FreqSets中的所有元素必须出现在setSups的keys中</div>
<div class="line">(注：输入参数FreqSets和setSups格式同
<a class="reference internal" href="#dramkit.datsci.apriori.get_CkSup_and_FreqLk_all" title="dramkit.datsci.apriori.get_CkSup_and_FreqLk_all"><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.datsci.apriori.get_CkSup_and_FreqLk_all()</span></code></a> 函数的输出)</div>
</div>
</dd></dl>

</section>
<section id="apriori-dramkit">
<h3>apriori_dramkit<a class="headerlink" href="#apriori-dramkit" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.freq_item_set.apriori_dramkit">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.freq_item_set.</span></span><span class="sig-name descname"><span class="pre">apriori_dramkit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_sup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_conf</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.freq_item_set.apriori_dramkit" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">Apriori主函数</div>
<div class="line">dataset为list数据集，每个元素为一个样本(由不同项组成的事务，也为list)</div>
<div class="line">min_sup, min_conf分别为最小支持度和最小置信度阈值</div>
<div class="line">返回list格式规则列表rules，每条规则包含：</div>
<div class="line-block">
<div class="line">[前件, 后件, 前件支持度, 后件支持度, 支持度, 置信度, 提升度]</div>
</div>
</div>
</dd></dl>

</section>
<section id="rules2df">
<h3>rules2df<a class="headerlink" href="#rules2df" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.freq_item_set.rules2df">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.freq_item_set.</span></span><span class="sig-name descname"><span class="pre">rules2df</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'&amp;'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.freq_item_set.rules2df" title="Permalink to this definition"></a></dt>
<dd><p>将列表格式rules（gen_rules函数的输出格式）转存为pd.DataFrame格式，
joiner设置项集元素之间的文本连接符</p>
</dd></dl>

</section>
<section id="arpiori-mlx">
<h3>arpiori_mlx<a class="headerlink" href="#arpiori-mlx" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.freq_item_set.arpiori_mlx">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.freq_item_set.</span></span><span class="sig-name descname"><span class="pre">arpiori_mlx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_sup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_conf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'&amp;'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.freq_item_set.arpiori_mlx" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">调用mlxtend的Apriori算法实现关联规则挖掘</div>
<div class="line">dataset为list数据集，每个元素为一个样本(由不同项组成的事务，也为list)</div>
<div class="line">min_sup, min_conf分别为最小支持度和最小置信度阈值</div>
<div class="line">返回pd.DataFrame结果</div>
<div class="line">joiner设置项集元素之间的文本连接符</div>
</div>
</dd></dl>

</section>
<section id="fpgrowth-mlx">
<h3>fpgrowth_mlx<a class="headerlink" href="#fpgrowth-mlx" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.freq_item_set.fpgrowth_mlx">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.freq_item_set.</span></span><span class="sig-name descname"><span class="pre">fpgrowth_mlx</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataset</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_sup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_conf</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'&amp;'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.freq_item_set.fpgrowth_mlx" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">调用mlxtend的FP-growth算法实现关联规则挖掘</div>
<div class="line">dataset为list数据集，每个元素为一个样本(由不同项组成的事务，也为list)</div>
<div class="line">min_sup, min_conf分别为最小支持度和最小置信度阈值</div>
<div class="line">返回pd.DataFrame结果</div>
<div class="line">joiner设置项集元素之间的文本连接符</div>
</div>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.lr">
<span id="lr"></span><h2>lr<a class="headerlink" href="#module-dramkit.datsci.lr" title="Permalink to this headline"></a></h2>
<section id="lrclassifierbinary">
<h3>LRClassifierBinary<a class="headerlink" href="#lrclassifierbinary" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.datsci.lr.LRClassifierBinary">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.datsci.lr.</span></span><span class="sig-name descname"><span class="pre">LRClassifierBinary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gd'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.LRClassifierBinary" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<div class="line-block">
<div class="line">逻辑回归二分类</div>
<div class="line"><br /></div>
<div class="line">记输入为X，输出为y，则逻辑回归二分类模型表达式为：</div>
<div class="line-block">
<div class="line">y` = Sigmoid(X * W  + b)，其中y`表示模型预测值，</div>
<div class="line">将截距项b并入W（在X中添加常数项变量），简写为：</div>
<div class="line">y` = Sigmoid(X * W)</div>
<div class="line">其中Sigmoid函数为: Sigmoid(x) = 1.0 / (1 + np.exp(-x))</div>
</div>
<div class="line">代价函数为：</div>
<div class="line-block">
<div class="line">Cost = y * ln(y`) + (1-y) * ln(1-y`)</div>
<div class="line">（分类正确代价为0，分类错误代价无穷大，由极大似然估计得来）</div>
</div>
<div class="line">转为最小化问题后总代价函数为：</div>
<div class="line-block">
<div class="line">Cost = -Sum(y * ln(y`) + (1-y) * ln(1-y`))</div>
<div class="line"><br /></div>
</div>
<div class="line">梯度下降法：</div>
<div class="line">根据上面三个方程，用链式求导法则可得到Cost对W的导数：</div>
<div class="line-block">
<div class="line">J = X * (y` - y)</div>
</div>
<div class="line">J即为梯度下降法中的梯度</div>
<div class="line"><br /></div>
<div class="line">牛顿法：待补充</div>
<div class="line"><br /></div>
<div class="line">参考：</div>
<div class="line"><a class="reference external" href="https://www.cnblogs.com/loongofqiao/p/8642045.html">https://www.cnblogs.com/loongofqiao/p/8642045.html</a></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.lr.LRClassifierBinary.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'gd'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_iter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.LRClassifierBinary.__init__" title="Permalink to this definition"></a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>opt_method</strong> (<em>str</em>) – 优化算法设置，默认梯度下降’gd’，牛顿法为’newton’或’nt’</p></li>
<li><p><strong>max_iter</strong> (<em>int</em>) – 最大迭代次数</p></li>
<li><p><strong>lr</strong> (<em>float</em>) – 学习速率</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.lr.LRClassifierBinary.add_const">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">add_const</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.LRClassifierBinary.add_const" title="Permalink to this definition"></a></dt>
<dd><p>X添加常数列，X为二维</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.lr.LRClassifierBinary.fit">
<span class="sig-name descname"><span class="pre">fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.LRClassifierBinary.fit" title="Permalink to this definition"></a></dt>
<dd><p>模型训练</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>X_train</strong> (<em>pd.DataFrame</em><em>, </em><em>np.array</em>) – 训练集输入，每行一个样本</p></li>
<li><p><strong>y_train</strong> (<em>pd.Series</em><em>, </em><em>pd.DataFrame</em><em>, </em><em>np.array</em>) – 训练集输出，每行一个样本</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.lr.LRClassifierBinary.forward">
<span class="sig-name descname"><span class="pre">forward</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">w</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.LRClassifierBinary.forward" title="Permalink to this definition"></a></dt>
<dd><p>前向传播（模型表达式）</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.lr.LRClassifierBinary.predict">
<span class="sig-name descname"><span class="pre">predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.LRClassifierBinary.predict" title="Permalink to this definition"></a></dt>
<dd><p>标签预测</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.lr.LRClassifierBinary.predict_proba">
<span class="sig-name descname"><span class="pre">predict_proba</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.LRClassifierBinary.predict_proba" title="Permalink to this definition"></a></dt>
<dd><p>概率预测</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dramkit.datsci.lr.LRClassifierBinary.sigmoid">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sigmoid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.LRClassifierBinary.sigmoid" title="Permalink to this definition"></a></dt>
<dd><p>sigmoid激活函数</p>
</dd></dl>

</dd></dl>

</section>
<section id="lr-fit-sm">
<h3>lr_fit_sm<a class="headerlink" href="#lr-fit-sm" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.lr.lr_fit_sm">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.lr.</span></span><span class="sig-name descname"><span class="pre">lr_fit_sm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.lr.lr_fit_sm" title="Permalink to this definition"></a></dt>
<dd><p>statsmodels线性回归拟合</p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.preprocess">
<span id="preprocess"></span><h2>preprocess<a class="headerlink" href="#module-dramkit.datsci.preprocess" title="Permalink to this headline"></a></h2>
<section id="externalstd">
<h3>ExternalStd<a class="headerlink" href="#externalstd" title="Permalink to this headline"></a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.ExternalStd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">ExternalStd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nstd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.ExternalStd" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>极端值处理，标准差倍数法</p>
</dd></dl>

</section>
<section id="norm-std">
<h3>norm_std<a class="headerlink" href="#norm-std" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.norm_std">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">norm_std</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_mean_std</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.norm_std" title="Permalink to this definition"></a></dt>
<dd><p>z-score标准化</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>series</em><em>, </em><em>pd.Series</em><em>, </em><em>np.array</em>) – 待标准化序列数据</p></li>
<li><p><strong>reverse</strong> – 是否反向标准化</p></li>
<li><p><strong>ddof</strong> (<em>int</em>) – <div class="line-block">
<div class="line">指定计算标准差时是无偏还是有偏的：</div>
<div class="line">ddof=1时计算的是无偏标准差（样本标准差，分母为n-1），</div>
<div class="line">ddof=0时计算的是有偏标准差（总体标准差，分母为n）</div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<div class="line-block">
<div class="line">pandas的std()默认计算的是无偏标准差，</div>
<div class="line">numpy的std()默认计算的是有偏标准差</div>
</div>
</div>
</p></li>
<li><p><strong>return_mean_std</strong> (<em>bool</em>) – 为True时同时返回均值和标准差，为False时不返回</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="line-block">
<div class="line">Z-score适用于series的最大值和最小值未知或有超出取值范围的离群值的情况。</div>
<div class="line">(一般要求原始数据的分布可以近似为高斯分布，否则效果可能会很糟糕)</div>
</div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://blog.csdn.net/qxqxqzzz/article/details/88663198">https://blog.csdn.net/qxqxqzzz/article/details/88663198</a></p>
</dd></dl>

</section>
<section id="norm-linear">
<h3>norm_linear<a class="headerlink" href="#norm-linear" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.norm_linear">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">norm_linear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reverse</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_must_in_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_xmin_eq_xmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_nmin_eq_nmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.norm_linear" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">线性映射：</div>
<div class="line">将取值范围在[xmin, xmax]内的x映射到取值范围在[ymin, ymax]内的xnew</div>
<div class="line">reverse设置是否反向，若为True，则映射到[ymax, ymin]范围内</div>
<div class="line">x_must_in_range设置当x不在[xmin, xmax]范围内时是否报错</div>
<div class="line">v_xmin_eq_xmax设置当xmin和xmax相等时的返回值</div>
</div>
</dd></dl>

</section>
<section id="norm-mid">
<h3>norm_mid<a class="headerlink" href="#norm-mid" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.norm_mid">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">norm_mid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xbest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.norm_mid" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">中间型（倒V型）指标的正向化线性映射，新值范围为[nmin, ymax]</div>
<div class="line">(指标值既不要太大也不要太小，适当取中间值最好，如水质量评估PH值)</div>
<div class="line">xmin和xmax为指标可能取到的最小值和最大值</div>
<div class="line">xbest指定最优值，若不指定则将xmin和xmax的均值当成最优值</div>
<div class="line">参考：<a class="reference external" href="https://zhuanlan.zhihu.com/p/37738503">https://zhuanlan.zhihu.com/p/37738503</a></div>
</div>
</dd></dl>

</section>
<section id="norm01-mid">
<h3>norm01_mid<a class="headerlink" href="#norm01-mid" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.norm01_mid">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">norm01_mid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xbest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.norm01_mid" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">中间型（倒V型）指标的正向化和（线性）01标准化</div>
<div class="line">(指标值既不要太大也不要太小，适当取中间值最好，如水质量评估PH值)</div>
<div class="line">xmin和xmax为指标可能取到的最小值和最大值</div>
<div class="line">xbest指定最优值，若不指定则将xmin和xmax的均值当成最优值</div>
<div class="line">参考：<a class="reference external" href="https://zhuanlan.zhihu.com/p/37738503">https://zhuanlan.zhihu.com/p/37738503</a></div>
</div>
</dd></dl>

</section>
<section id="norm-side">
<h3>norm_side<a class="headerlink" href="#norm-side" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.norm_side">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">norm_side</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xworst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_out_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.norm_side" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">两边型（V型）指标的正向化线性映射，新值范围为[ymin, ymax]</div>
<div class="line">(指标越靠近xmin或越靠近xmax越好，越在中间越不好)</div>
<div class="line">xmin和xmax为指标可能取到的最小值和最大值</div>
<div class="line">xworst指定最差值，若不指定则将xmin和xmax的均值当成最差值</div>
<div class="line">v_out_limit指定当x超过xmin或xmax界限之后的正向标准化值，不指定则默认为ymax</div>
</div>
</dd></dl>

</section>
<section id="norm01-side">
<h3>norm01_side<a class="headerlink" href="#norm01-side" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.norm01_side">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">norm01_side</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xworst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">v_out_limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.norm01_side" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">两边型（V型）指标的正向化和（线性）01标准化</div>
<div class="line">(指标越靠近xmin或越靠近xmax越好，越在中间越不好)</div>
<div class="line">xmin和xmax为指标可能取到的最小值和最大值</div>
<div class="line">xworst指定最差值，若不指定则将xmin和xmax的均值当成最差值</div>
<div class="line">v_out_limit指定当x超过xmin或xmax界限之后的正向标准化值，不指定则默认为1</div>
</div>
</dd></dl>

</section>
<section id="norm-range">
<h3>norm_range<a class="headerlink" href="#norm-range" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.norm_range">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">norm_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xminmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmaxmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ymax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.norm_range" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">区间型指标的正向化正向化线性映射，新值范围为[ymin, ymax]</div>
<div class="line">(指标的取值最好落在某一个确定的区间最好，如体温)</div>
<div class="line">[xmin, xmax]指定指标的最佳稳定区间，[xminmin, xmaxmax]指定指标的最大容忍区间</div>
<div class="line">参考：<a class="reference external" href="https://zhuanlan.zhihu.com/p/37738503">https://zhuanlan.zhihu.com/p/37738503</a></div>
</div>
</dd></dl>

</section>
<section id="norm01-range">
<h3>norm01_range<a class="headerlink" href="#norm01-range" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.norm01_range">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">norm01_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmax</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xminmin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xmaxmax</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.norm01_range" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">区间型指标的正向化和（线性）01标准化</div>
<div class="line">(指标的取值最好落在某一个确定的区间最好，如体温)</div>
<div class="line">[xmin, xmax]指定指标的最佳稳定区间，[xminmin, xmaxmax]指定指标的最大容忍区间</div>
<div class="line">参考：<a class="reference external" href="https://zhuanlan.zhihu.com/p/37738503">https://zhuanlan.zhihu.com/p/37738503</a></div>
</div>
</dd></dl>

</section>
<section id="get-pca">
<h3>get_pca<a class="headerlink" href="#get-pca" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.get_pca">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">get_pca</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs_trans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_pca</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.get_pca" title="Permalink to this definition"></a></dt>
<dd><p>PCA主成分转化</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – 用于训练PCA模型的数据</p></li>
<li><p><strong>df_trans</strong> (<em>None</em><em>, </em><em>list</em>) – <div class="line-block">
<div class="line">待转化数据列表，每个元素都是pandas.DataFrame，</div>
<div class="line">即用训练好的PCA模型对dfs_trans中所有的数据进行主成分转化</div>
</div>
</p></li>
<li><p><strong>**kwargs_pca</strong> – sklearn.decomposition.PCA接受的参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df_pca</strong> (<em>pandas.DataFrame</em>) – df进行PCA转化之后的数据，列名格式为’imfk’(第k列表示第k个主成分)</p></li>
<li><p><strong>dfs_transed</strong> (<em>tuple</em>) – 利用df训练好的PCA模型对dfs_trans中的数据进行主成分转化之后的结果</p></li>
</ul>
</p>
</dd>
</dl>
<div class="admonition-todo admonition" id="id6">
<p class="admonition-title">Todo</p>
<p>改成跟 <a class="reference internal" href="#dramkit.datsci.preprocess.scale_skl" title="dramkit.datsci.preprocess.scale_skl"><code class="xref py py-func docutils literal notranslate"><span class="pre">scale_skl()</span></code></a> 和 <a class="reference internal" href="#dramkit.datsci.preprocess.scale_skl_inverse" title="dramkit.datsci.preprocess.scale_skl_inverse"><code class="xref py py-func docutils literal notranslate"><span class="pre">scale_skl_inverse()</span></code></a> 函数那样
有返回训练好的模型以及用训练好的模型进行转换</p>
</div>
</dd></dl>

</section>
<section id="scale-skl">
<h3>scale_skl<a class="headerlink" href="#scale-skl" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.scale_skl">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">scale_skl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df_fit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs_trans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'std'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.scale_skl" title="Permalink to this definition"></a></dt>
<dd><p>用sklearn进行数据标准化处理</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_fit</strong> (<em>pandas.DataFrame</em>) – 训练数据，用于计算标准化中间变量</p></li>
<li><p><strong>dfs_trans</strong> (<em>None</em><em>, </em><em>pandas.DataFrame</em><em>, </em><em>list</em>) – 需要以df_fit为基准进行标准化的df或df列表</p></li>
<li><p><strong>cols</strong> (<em>None</em><em>, </em><em>list</em>) – 指定需要标准化的列，默认对所有列进行标准化</p></li>
<li><p><strong>scale_type</strong> (<em>str</em>) – <div class="line-block">
<div class="line">指定标准化类型:</div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">std</span></code> 或 <code class="docutils literal notranslate"><span class="pre">z-score</span></code> 使用 <code class="docutils literal notranslate"><span class="pre">sklearn.preprocessing.StandardScaler</span></code></div>
<div class="line"><code class="docutils literal notranslate"><span class="pre">maxmin</span></code> 或 <code class="docutils literal notranslate"><span class="pre">minmax</span></code> 使用 <code class="docutils literal notranslate"><span class="pre">sklearn.preprocessing.MinMaxScaler</span></code></div>
</div>
</p></li>
<li><p><strong>**kwargs</strong> – 接收对应Scaler支持的参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>df_fited</strong> (<em>pandas.DataFrame</em>) – df_fit标准化之后的数据</p></li>
<li><p><strong>dfs_transed</strong> (<em>None, pandas.DataFrame, tuple</em>) – dfs_trans标准化之后对应的数据</p></li>
<li><p><strong>scaler_info</strong> (<em>tuple</em>) – 包含scaler即df_fit计算得到的标准化中间变量信息; cols即用到的列名列表</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="scale-skl-inverse">
<h3>scale_skl_inverse<a class="headerlink" href="#scale-skl-inverse" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.scale_skl_inverse">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">scale_skl_inverse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scaler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dfs_to_inv</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.scale_skl_inverse" title="Permalink to this definition"></a></dt>
<dd><p>反标准化还原数据</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scaler</strong> (<em>class</em>) – fit过的sklearn Scaler类(如StandardScaler、MinMaxScaler)</p></li>
<li><p><strong>dfs_to_inv</strong> (<em>pandas.DataFrame</em><em>, </em><em>list</em>) – 待还原的df或df列表</p></li>
<li><p><strong>cols</strong> (<em>None</em><em>, </em><em>list</em>) – 指定需要还原的列名列表，默认所有列</p></li>
<li><p><strong>**kwargs</strong> – 接收scaler.inverse_transform函数支持的参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>pandas.DataFrame, tuple</cite> - 反标准化还原之后对应的数据</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>注：(scaler, cols)应与scale_skl函数输出一致</p>
</div>
</dd></dl>

</section>
<section id="get-miss-rate">
<h3>get_miss_rate<a class="headerlink" href="#get-miss-rate" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.get_miss_rate">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">get_miss_rate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dict'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.get_miss_rate" title="Permalink to this definition"></a></dt>
<dd><p>计算df(<cite>pd.DataFrame</cite>)中指定cols列的缺失率，return_type可选[‘dict’, ‘df’]</p>
<div class="admonition-todo admonition" id="id7">
<p class="admonition-title">Todo</p>
<p>cols可为str，指定单列，返回单个值</p>
</div>
</dd></dl>

</section>
<section id="fillna-ma">
<h3>fillna_ma<a class="headerlink" href="#fillna-ma" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.fillna_ma">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">fillna_ma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ma_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.fillna_ma" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用移动平均MA填充序列series(<cite>pd.Series</cite>)中的缺失值</div>
<div class="line">ma(<cite>int</cite>)设置填充时向前取平均数用的期数，ma_min(<cite>int</cite>)设置最小期数</div>
<div class="line">若ma为None，则根据最大连续缺失记录数确定ma期数(取2*最大连续缺失期数)</div>
<div class="line">返回替换之后的 <cite>pd.Series</cite></div>
</div>
</dd></dl>

</section>
<section id="fillna-by-mean">
<h3>fillna_by_mean<a class="headerlink" href="#fillna-by-mean" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.fillna_by_mean">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">fillna_by_mean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.fillna_by_mean" title="Permalink to this definition"></a></dt>
<dd><p>用列均值替换df(<cite>pd.DataFrame</cite>)中的无效值，cols(<cite>list</cite>)指定待替换列</p>
</dd></dl>

</section>
<section id="fillna-by-median">
<h3>fillna_by_median<a class="headerlink" href="#fillna-by-median" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.preprocess.fillna_by_median">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.preprocess.</span></span><span class="sig-name descname"><span class="pre">fillna_by_median</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.preprocess.fillna_by_median" title="Permalink to this definition"></a></dt>
<dd><p>用列中位数替换df(<cite>pd.DataFrame</cite>)中的无效值，cols(<cite>list</cite>)指定待替换列</p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.stats">
<span id="stats"></span><h2>stats<a class="headerlink" href="#module-dramkit.datsci.stats" title="Permalink to this headline"></a></h2>
<section id="fpdf">
<h3>fpdf<a class="headerlink" href="#fpdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fpdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fpdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fpdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">计算符合自由度为df1和df2的F分布的随机变量取x时的概率密度函数值</div>
<div class="line">loc和scale为scipy.stats中f分布参数</div>
</div>
</dd></dl>

</section>
<section id="fcdf">
<h3>fcdf<a class="headerlink" href="#fcdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fcdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fcdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fcdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">计算符合自由度为df1和df2的F分布的随机变量取x时的概率分布函数值</div>
<div class="line">loc和scale为scipy.stats中f分布参数</div>
</div>
</dd></dl>

</section>
<section id="ffit">
<h3>ffit<a class="headerlink" href="#ffit" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.ffit">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">ffit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.ffit" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行F分布参数估计</div>
<div class="line">返回顺序: df1, df2, loc, scale</div>
</div>
</dd></dl>

</section>
<section id="fit-f-pdf">
<h3>fit_f_pdf<a class="headerlink" href="#fit-f-pdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_f_pdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_f_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_f_pdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个F分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率密度函数值</div>
</div>
</dd></dl>

</section>
<section id="fit-f-cdf">
<h3>fit_f_cdf<a class="headerlink" href="#fit-f-cdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_f_cdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_f_cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_f_cdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个F分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率分布函数值</div>
</div>
</dd></dl>

</section>
<section id="ftest">
<h3>ftest<a class="headerlink" href="#ftest" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.ftest">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">ftest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_plot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.ftest" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行F分布检验(采用KS检验)</div>
<div class="line">返回顺序: (统计量, P值), (df1, df2, loc, scale)</div>
</div>
</dd></dl>

</section>
<section id="tpdf">
<h3>tpdf<a class="headerlink" href="#tpdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.tpdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">tpdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.tpdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">计算符合自由度为df的T分布的随机变量取x时的概率密度函数值</div>
<div class="line">loc和scale为scipy.stats中t分布参数</div>
</div>
</dd></dl>

</section>
<section id="tcdf">
<h3>tcdf<a class="headerlink" href="#tcdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.tcdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">tcdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.tcdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">计算符合自由度为df的T分布的随机变量取x时的概率分布函数值</div>
<div class="line">loc和scale为scipy.stats中t分布参数</div>
</div>
</dd></dl>

</section>
<section id="tfit">
<h3>tfit<a class="headerlink" href="#tfit" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.tfit">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">tfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.tfit" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行T分布参数估计</div>
<div class="line">返回顺序: df, loc, scale</div>
</div>
</dd></dl>

</section>
<section id="fit-t-pdf">
<h3>fit_t_pdf<a class="headerlink" href="#fit-t-pdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_t_pdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_t_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_t_pdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个T分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率密度函数值</div>
</div>
</dd></dl>

</section>
<section id="fit-t-cdf">
<h3>fit_t_cdf<a class="headerlink" href="#fit-t-cdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_t_cdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_t_cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_t_cdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个T分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率分布函数值</div>
</div>
</dd></dl>

</section>
<section id="ttest">
<h3>ttest<a class="headerlink" href="#ttest" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.ttest">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">ttest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_plot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.ttest" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行T分布检验(采用KS检验)</div>
<div class="line">返回顺序: (统计量, P值), (df, loc, scale)</div>
</div>
</dd></dl>

</section>
<section id="chi2pdf">
<h3>chi2pdf<a class="headerlink" href="#chi2pdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.chi2pdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">chi2pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.chi2pdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">计算符合自由度为df的卡方分布的随机变量取x时的概率密度函数值</div>
<div class="line">loc和scale为scipy.stats中卡方分布参数</div>
</div>
</dd></dl>

</section>
<section id="chi2cdf">
<h3>chi2cdf<a class="headerlink" href="#chi2cdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.chi2cdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">chi2cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.chi2cdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">计算符合自由度为df的卡方分布的随机变量取x时的概率分布函数值</div>
<div class="line">loc和scale为scipy.stats中卡方分布参数</div>
</div>
</dd></dl>

</section>
<section id="chi2fit">
<h3>chi2fit<a class="headerlink" href="#chi2fit" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.chi2fit">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">chi2fit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.chi2fit" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行卡方分布参数估计</div>
<div class="line">返回顺序: df, loc, scale</div>
</div>
</dd></dl>

</section>
<section id="fit-chi2-pdf">
<h3>fit_chi2_pdf<a class="headerlink" href="#fit-chi2-pdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_chi2_pdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_chi2_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_chi2_pdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个卡方分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率密度函数值</div>
</div>
</dd></dl>

</section>
<section id="fit-chi2-cdf">
<h3>fit_chi2_cdf<a class="headerlink" href="#fit-chi2-cdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_chi2_cdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_chi2_cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_chi2_cdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个卡方分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率分布函数值</div>
</div>
</dd></dl>

</section>
<section id="chi2test">
<h3>chi2test<a class="headerlink" href="#chi2test" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.chi2test">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">chi2test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_plot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.chi2test" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行卡方分布检验(采用KS检验)</div>
<div class="line">返回顺序: (统计量, P值), (df, loc, scale)</div>
</div>
</dd></dl>

</section>
<section id="normpdf">
<h3>normpdf<a class="headerlink" href="#normpdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.normpdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">normpdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.normpdf" title="Permalink to this definition"></a></dt>
<dd><p>计算符合正态分布N(mu, sigma)的随机变量取x时的概率密度函数值</p>
</dd></dl>

</section>
<section id="normcdf">
<h3>normcdf<a class="headerlink" href="#normcdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.normcdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">normcdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.normcdf" title="Permalink to this definition"></a></dt>
<dd><p>计算符合正态分布N(mu, sigma)的随机变量取x时的概率密分布数值</p>
</dd></dl>

</section>
<section id="normfit">
<h3>normfit<a class="headerlink" href="#normfit" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.normfit">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">normfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.normfit" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行正态分布参数估计</div>
<div class="line">返回顺序: mu, sigma</div>
</div>
</dd></dl>

</section>
<section id="fit-norm-pdf">
<h3>fit_norm_pdf<a class="headerlink" href="#fit-norm-pdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_norm_pdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_norm_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_norm_pdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个正态分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率密度函数值</div>
</div>
</dd></dl>

</section>
<section id="fit-norm-cdf">
<h3>fit_norm_cdf<a class="headerlink" href="#fit-norm-cdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_norm_cdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_norm_cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_norm_cdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个正态分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率分布函数值</div>
</div>
</dd></dl>

</section>
<section id="normtest">
<h3>normtest<a class="headerlink" href="#normtest" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.normtest">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">normtest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_plot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.normtest" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行正态分布检验(采用KS检验)</div>
<div class="line">返回顺序: (统计量, P值), (mu, sigma)</div>
</div>
</dd></dl>

</section>
<section id="lognormpdf">
<h3>lognormpdf<a class="headerlink" href="#lognormpdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.lognormpdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">lognormpdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.lognormpdf" title="Permalink to this definition"></a></dt>
<dd><p>计算符合参数为mu, sigma的对数正态分布的随机变量取x时的概率密度函数值</p>
</dd></dl>

</section>
<section id="lognormcdf">
<h3>lognormcdf<a class="headerlink" href="#lognormcdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.lognormcdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">lognormcdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.lognormcdf" title="Permalink to this definition"></a></dt>
<dd><p>计算符合参数为mu, sigma的对数正态分布的随机变量取x时的概率分布函数值</p>
</dd></dl>

</section>
<section id="lognormfit">
<h3>lognormfit<a class="headerlink" href="#lognormfit" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.lognormfit">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">lognormfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.lognormfit" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行对数正态分布参数估计</div>
<div class="line">返回顺序: mu, sigma</div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<div class="line-block">
<div class="line">scipy.stats中lognorm分布参数估计和 <a class="reference internal" href="#dramkit.datsci.stats.lognormpdf" title="dramkit.datsci.stats.lognormpdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">lognormpdf()</span></code></a> 中参数关系：</div>
<div class="line">若设置floc=0（即始终loc=0），则有s = sigma，scale = e ^ mu</div>
</div>
</div>
</dd></dl>

</section>
<section id="fit-lognorm-pdf">
<h3>fit_lognorm_pdf<a class="headerlink" href="#fit-lognorm-pdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_lognorm_pdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_lognorm_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_lognorm_pdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个对数正态分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率密度函数值</div>
</div>
</dd></dl>

</section>
<section id="fit-lognorm-cdf">
<h3>fit_lognorm_cdf<a class="headerlink" href="#fit-lognorm-cdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_lognorm_cdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_lognorm_cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_lognorm_cdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个对数正态分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率分布函数值</div>
</div>
</dd></dl>

</section>
<section id="lognormtest">
<h3>lognormtest<a class="headerlink" href="#lognormtest" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.lognormtest">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">lognormtest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_plot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.lognormtest" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行对数正态分布检验(采用KS检验)</div>
<div class="line">返回顺序: (统计量, P值), (mu, sigma)</div>
</div>
</dd></dl>

</section>
<section id="weibullpdf">
<h3>weibullpdf<a class="headerlink" href="#weibullpdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.weibullpdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">weibullpdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.weibullpdf" title="Permalink to this definition"></a></dt>
<dd><p>计算符合参数为k, lmd的威布尔分布的随机变量取x时的概率密度函数值</p>
</dd></dl>

</section>
<section id="weibullcdf">
<h3>weibullcdf<a class="headerlink" href="#weibullcdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.weibullcdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">weibullcdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.weibullcdf" title="Permalink to this definition"></a></dt>
<dd><p>计算符合参数为k, lmd的威布尔分布的随机变量取x时的概率分布函数值</p>
</dd></dl>

</section>
<section id="weibullfit">
<h3>weibullfit<a class="headerlink" href="#weibullfit" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.weibullfit">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">weibullfit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.weibullfit" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行威布尔分布参数估计</div>
<div class="line">返回顺序: k, lmd</div>
</div>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<div class="line-block">
<div class="line">scipy.stats中weibull_min分布参数估计和 <a class="reference internal" href="#dramkit.datsci.stats.weibullpdf" title="dramkit.datsci.stats.weibullpdf"><code class="xref py py-func docutils literal notranslate"><span class="pre">weibullpdf()</span></code></a> 中
weibull分布参数关系：</div>
<div class="line">若设置floc=0（即始终loc=0），则有c = k，scale = lmd</div>
<div class="line">scipy.stats中weibull_min分布参数估计和 <code class="docutils literal notranslate"><span class="pre">np.random.weibull</span></code>
分布参数关系：</div>
<div class="line">若设置floc=0（即始终loc=0），则有c = a，scale = 1</div>
</div>
</div>
</dd></dl>

</section>
<section id="fit-weibull-pdf">
<h3>fit_weibull_pdf<a class="headerlink" href="#fit-weibull-pdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_weibull_pdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_weibull_pdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_weibull_pdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个威布尔分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率密度函数值</div>
</div>
</dd></dl>

</section>
<section id="fit-weibull-cdf">
<h3>fit_weibull_cdf<a class="headerlink" href="#fit-weibull-cdf" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.fit_weibull_cdf">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">fit_weibull_cdf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.fit_weibull_cdf" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)拟合一个威布尔分布，</div>
<div class="line">并计算随机变量在该分布下取值为x时的概率分布函数值</div>
</div>
</dd></dl>

</section>
<section id="weibulltest">
<h3>weibulltest<a class="headerlink" href="#weibulltest" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.weibulltest">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">weibulltest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs_plot</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.weibulltest" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">对series (<cite>pd.Series</cite> 或 <cite>np.array</cite>)进行威布尔分布检验(采用KS检验)</div>
<div class="line">返回顺序: (统计量, P值), (k, lmd)</div>
</div>
</dd></dl>

</section>
<section id="mse">
<h3>mse<a class="headerlink" href="#mse" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.mse">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">mse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_predict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.mse" title="Permalink to this definition"></a></dt>
<dd><p>计算均方误差MSE</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_true</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 真实值</p></li>
<li><p><strong>y_predict</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 预测值</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>float</cite> - MSE值</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="r2">
<h3>r2<a class="headerlink" href="#r2" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.r2">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">r2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_predict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_linear</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.r2" title="Permalink to this definition"></a></dt>
<dd><p>计算拟合优度R^2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_true</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 真实值</p></li>
<li><p><strong>y_predict</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 预测值</p></li>
<li><p><strong>is_linear</strong> (<em>bool</em>) – 预测值是否为线性回归结果</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>float</cite> - R^2值</p>
</dd>
</dl>
<div class="admonition hint">
<p class="admonition-title">Hint</p>
<div class="line-block">
<div class="line">在线性回归情况下（y_predict是由y_true与自变量X进行线性拟合的预测值），有:</div>
<div class="line-block">
<div class="line">R2 = 1 - SSres / SStot = SSreg / SStot，</div>
<div class="line">且此时R2与y_true和y_predict相关系数的平方相等</div>
</div>
<div class="line">非线性回归情况下，1 - SSres / SStot != SSreg / SStot，R2与两者相关系数平方也不相等</div>
<div class="line">可设置is_linear为True和False进行比较验证</div>
</div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://blog.csdn.net/wade1203/article/details/98477034">https://blog.csdn.net/wade1203/article/details/98477034</a>
<a class="reference external" href="https://blog.csdn.net/liangyihuai/article/details/88560859">https://blog.csdn.net/liangyihuai/article/details/88560859</a>
<a class="reference external" href="https://wenku.baidu.com/view/893b22d66bec0975f465e2b8.html">https://wenku.baidu.com/view/893b22d66bec0975f465e2b8.html</a></p>
</dd></dl>

</section>
<section id="r2adj">
<h3>r2adj<a class="headerlink" href="#r2adj" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.r2adj">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">r2adj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_predict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.r2adj" title="Permalink to this definition"></a></dt>
<dd><p>计算调整R^2</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_true</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 真实值</p></li>
<li><p><strong>y_predict</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 预测值</p></li>
<li><p><strong>k</strong> (<em>int</em>) – <p>预测y所用自变量个数</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>线性回归中常量也算一个变量，例如y=ax+b，则k为2</p>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>float</cite> - 调整R^2值</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="http://blog.sciencenet.cn/blog-651374-975670.html">http://blog.sciencenet.cn/blog-651374-975670.html</a></p>
</dd></dl>

</section>
<section id="r2adj-by-r2">
<h3>r2adj_by_r2<a class="headerlink" href="#r2adj-by-r2" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.r2adj_by_r2">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">r2adj_by_r2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.r2adj_by_r2" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">通过R^2计算调整R^2, n为样本量, k为自变量个数</div>
<div class="line">注：线性回归中常量也算一个变量，例如y=ax+b，则k为2</div>
</div>
</dd></dl>

</section>
<section id="r2-by-mse">
<h3>r2_by_mse<a class="headerlink" href="#r2-by-mse" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.r2_by_mse">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">r2_by_mse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.r2_by_mse" title="Permalink to this definition"></a></dt>
<dd><p>根据MSE和真实值y_true(<cite>pd.Series, np.array</cite>)计算拟合优度R^2</p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://blog.csdn.net/wade1203/article/details/98477034">https://blog.csdn.net/wade1203/article/details/98477034</a>
<a class="reference external" href="https://blog.csdn.net/liangyihuai/article/details/88560859">https://blog.csdn.net/liangyihuai/article/details/88560859</a></p>
</dd></dl>

</section>
<section id="r2adj-by-mse">
<h3>r2adj_by_mse<a class="headerlink" href="#r2adj-by-mse" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.r2adj_by_mse">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">r2adj_by_mse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mse</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.r2adj_by_mse" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">通过MSE计算调整R^2, y_true为真实值(<cite>pd.Series, np.array</cite>), n为样本量, k为自变量个数</div>
<div class="line">注：线性回归中常量也算一个变量，例如y=ax+b，则k为2</div>
</div>
</dd></dl>

</section>
<section id="r2-by-r2adj">
<h3>r2_by_r2adj<a class="headerlink" href="#r2-by-r2adj" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.r2_by_r2adj">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">r2_by_r2adj</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r2adj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.r2_by_r2adj" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">通过调整R^2计算R^2, n为样本量, k为自变量个数</div>
<div class="line">注：线性回归中常量也算一个变量，例如y=ax+b，则k为2</div>
</div>
</dd></dl>

</section>
<section id="mse-by-r2">
<h3>mse_by_r2<a class="headerlink" href="#mse-by-r2" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.mse_by_r2">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">mse_by_r2</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">r2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.mse_by_r2" title="Permalink to this definition"></a></dt>
<dd><p>根据R^2和真实值y_true(<cite>pd.Series, np.array</cite>)计算MSE</p>
</dd></dl>

</section>
<section id="rmse">
<h3>rmse<a class="headerlink" href="#rmse" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.rmse">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">rmse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_predict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.rmse" title="Permalink to this definition"></a></dt>
<dd><p>计算RMSE, y_true, y_predict为 <cite>pd.Series</cite> 或 <cite>np.array</cite></p>
</dd></dl>

</section>
<section id="mae">
<h3>mae<a class="headerlink" href="#mae" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.mae">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">mae</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_predict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.mae" title="Permalink to this definition"></a></dt>
<dd><p>计算MAE, y_true, y_predict为 <cite>pd.Series</cite> 或 <cite>np.array</cite></p>
</dd></dl>

</section>
<section id="mape">
<h3>mape<a class="headerlink" href="#mape" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.mape">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">mape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_predict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.mape" title="Permalink to this definition"></a></dt>
<dd><p>计算MAPE, y_true, y_predict为 <cite>pd.Series</cite> 或 <cite>np.array</cite></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>当y_true存在0值时MAPE不可用</p>
</div>
</dd></dl>

</section>
<section id="smape">
<h3>smape<a class="headerlink" href="#smape" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.smape">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">smape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_predict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.smape" title="Permalink to this definition"></a></dt>
<dd><p>计算SMAPE，y_true, y_predict为 <cite>pd.Series</cite> 或 <cite>np.array</cite></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>当y_true和y_predict均为0值时SMAPE不可用</p>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://blog.csdn.net/guolindonggld/article/details/87856780">https://blog.csdn.net/guolindonggld/article/details/87856780</a></p>
</dd></dl>

</section>
<section id="avedev">
<h3>avedev<a class="headerlink" href="#avedev" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.avedev">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">avedev</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arr</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.avedev" title="Permalink to this definition"></a></dt>
<dd><p>AVEDEV函数，arr为 <cite>np.array</cite> 或 <cite>pd.Series</cite></p>
<p class="rubric">References</p>
<p><a class="reference external" href="https://support.microsoft.com/en-us/office/avedev-function-58fe8d65-2a84-4dc7-8052-f3f87b5c6639?ui=en-us&amp;rs=en-us&amp;ad=us">https://support.microsoft.com/en-us/office/avedev-function-58fe8d65-2a84-4dc7-8052-f3f87b5c6639?ui=en-us&amp;rs=en-us&amp;ad=us</a></p>
</dd></dl>

</section>
<section id="cal-linear-reg-r">
<h3>cal_linear_reg_r<a class="headerlink" href="#cal-linear-reg-r" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cal_linear_reg_r">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cal_linear_reg_r</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fit_intercept</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cal_linear_reg_r" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">简单计算一元线性回归斜率</div>
<div class="line">y和x为 <cite>list</cite> 或 <cite>pd.Series</cite> 或 <cite>np.array</cite> (x和y均为一维)</div>
<div class="line">若x为None，则回归自变量取range(0, len(y))</div>
<div class="line">fit_intercept=True时返回斜率和截距，否则只返回斜率</div>
</div>
</dd></dl>

</section>
<section id="cummean">
<h3>cummean<a class="headerlink" href="#cummean" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cummean">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cummean</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cummean" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">滚动计算序列series(<cite>list, np.array, pd.Series</cite>)累计均值</div>
<div class="line">skip设置是否忽略无效值记录</div>
</div>
</dd></dl>

</section>
<section id="delta-var-d0">
<h3>delta_var_d0<a class="headerlink" href="#delta-var-d0" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.delta_var_d0">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">delta_var_d0</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.delta_var_d0" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">自由度为0情况下的增量方差计算</div>
<div class="line">n, mean, var分别为第一组和第二组(增量)样本的样本量、均值和自由度为0的方差</div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://www.cnblogs.com/yoyaprogrammer/p/delta_variance.html">https://www.cnblogs.com/yoyaprogrammer/p/delta_variance.html</a>
<a class="reference external" href="https://blog.csdn.net/u013337691/article/details/119326155">https://blog.csdn.net/u013337691/article/details/119326155</a></p>
</dd></dl>

</section>
<section id="delta-var-d">
<h3>delta_var_d<a class="headerlink" href="#delta-var-d" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.delta_var_d">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">delta_var_d</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.delta_var_d" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">增量方差算法：根据已经算好的两组样本的方差、均值和样本量计算两组数合并之后的方差</div>
<div class="line">n, mean, var分别为两组样本的样本量、均值和自由度为ddof的方差</div>
<div class="line">注：跟 <a class="reference internal" href="#dramkit.datsci.stats.delta_var" title="dramkit.datsci.stats.delta_var"><code class="xref py py-func docutils literal notranslate"><span class="pre">delta_var()</span></code></a> 的区别在于本函数调用了 <a class="reference internal" href="#dramkit.datsci.stats.delta_var_d0" title="dramkit.datsci.stats.delta_var_d0"><code class="xref py py-func docutils literal notranslate"><span class="pre">delta_var_d0()</span></code></a></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://www.cnblogs.com/yoyaprogrammer/p/delta_variance.html">https://www.cnblogs.com/yoyaprogrammer/p/delta_variance.html</a>
<a class="reference external" href="https://blog.csdn.net/u013337691/article/details/119326155">https://blog.csdn.net/u013337691/article/details/119326155</a></p>
</dd></dl>

</section>
<section id="delta-var">
<h3>delta_var<a class="headerlink" href="#delta-var" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.delta_var">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">delta_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mean1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.delta_var" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">增量方差算法：根据已经算好的两组样本的方差、均值和样本量计算两组数合并之后的方差</div>
<div class="line">n, mean, var分别为两组样本的样本量、均值和自由度为ddof的方差</div>
<div class="line">注：跟 <a class="reference internal" href="#dramkit.datsci.stats.delta_var_d" title="dramkit.datsci.stats.delta_var_d"><code class="xref py py-func docutils literal notranslate"><span class="pre">delta_var_d()</span></code></a> 的区别在于本函数没调用 <a class="reference internal" href="#dramkit.datsci.stats.delta_var_d0" title="dramkit.datsci.stats.delta_var_d0"><code class="xref py py-func docutils literal notranslate"><span class="pre">delta_var_d0()</span></code></a></div>
</div>
<p class="rubric">References</p>
<p><a class="reference external" href="https://www.cnblogs.com/yoyaprogrammer/p/delta_variance.html">https://www.cnblogs.com/yoyaprogrammer/p/delta_variance.html</a>
<a class="reference external" href="https://blog.csdn.net/u013337691/article/details/119326155">https://blog.csdn.net/u013337691/article/details/119326155</a></p>
</dd></dl>

</section>
<section id="cumvar-nonan">
<h3>cumvar_nonan<a class="headerlink" href="#cumvar-nonan" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cumvar_nonan">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cumvar_nonan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cumvar_nonan" title="Permalink to this definition"></a></dt>
<dd><p>滚动累计方差算法</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>pd.Series</em><em>, </em><em>np.array</em>) – 目标序列，不应有无效值</p></li>
<li><p><strong>ddof</strong> (<em>int</em>) – 自由度</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>np.array</cite> - 滚动累计方差计算结果</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>series会被当成没有无效值处理</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.datsci.utils_stats.delta_var()</span></code></p>
</div>
</dd></dl>

</section>
<section id="cumvar">
<h3>cumvar<a class="headerlink" href="#cumvar" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cumvar">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cumvar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cumvar" title="Permalink to this definition"></a></dt>
<dd><p>滚动累计方差算法</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 目标序列，不应有无效值</p></li>
<li><p><strong>ddof</strong> (<em>int</em>) – 自由度</p></li>
<li><p><strong>skipna</strong> (<em>bool</em>) – 是否忽略无效值</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>pd.Series</cite> - 滚动累计方差计算结果</p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.datsci.utils_stats.cumvar_nonan()</span></code></p>
</div>
</dd></dl>

</section>
<section id="cumstd">
<h3>cumstd<a class="headerlink" href="#cumstd" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cumstd">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cumstd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ddof</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cumstd" title="Permalink to this definition"></a></dt>
<dd><p>滚动计算序列累计标准差，参数意义同 <a class="reference internal" href="#dramkit.datsci.stats.cumvar" title="dramkit.datsci.stats.cumvar"><code class="xref py py-func docutils literal notranslate"><span class="pre">cumvar()</span></code></a></p>
</dd></dl>

</section>
<section id="cum-scale">
<h3>cum_scale<a class="headerlink" href="#cum-scale" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cum_scale">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cum_scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('maxmin',</span> <span class="pre">0,</span> <span class="pre">1)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cum_scale" title="Permalink to this definition"></a></dt>
<dd><p>序列累计标准化</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 待计算目标序列</p></li>
<li><p><strong>scale_type</strong> (<em>tuple</em>) – <p>标准化设置，可选：</p>
<ul>
<li><p>最大最小标准化：(‘maxmin’, Nmin, Nmax)</p></li>
<li><p>标准偏差法/Z-Score：(‘std’, ) 或 ‘std’</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>pd.Series</cite> - 累计标准化计算结果</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="rolling-scale">
<h3>rolling_scale<a class="headerlink" href="#rolling-scale" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.rolling_scale">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">rolling_scale</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('maxmin',</span> <span class="pre">0,</span> <span class="pre">1)</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.rolling_scale" title="Permalink to this definition"></a></dt>
<dd><p>序列滚动标准化</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>np.array</em><em>, </em><em>pd.Series</em>) – 待计算目标序列</p></li>
<li><p><strong>lag</strong> (<em>int</em>) – 滚动窗口</p></li>
<li><p><strong>scale_type</strong> (<em>tuple</em>) – <p>标准化设置，可选：</p>
<ul>
<li><p>最大最小标准化：(‘maxmin’, Nmin, Nmax)</p></li>
<li><p>标准偏差法/Z-Score：(‘std’, ) 或 ‘std’</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>pd.Series</cite> - 滚动标准化计算结果</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="get-quantiles">
<h3>get_quantiles<a class="headerlink" href="#get-quantiles" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.get_quantiles">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">get_quantiles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dense'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.get_quantiles" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">计算series(<cite>pd.Series, np.array</cite>)中每个数所处的百分位</div>
<div class="line">method决定并列排序序号确定方式，见pd中rank函数的参数</div>
</div>
</dd></dl>

</section>
<section id="cumrank-nonan">
<h3>cumrank_nonan<a class="headerlink" href="#cumrank-nonan" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cumrank_nonan">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cumrank_nonan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dense'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cumrank_nonan" title="Permalink to this definition"></a></dt>
<dd><p>滚动计算累计排序号，使用二分法改进的插入排序法</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>list</em><em>, </em><em>pd.Series</em><em>, </em><em>np.array</em>) – 待排序目标序列</p></li>
<li><p><strong>ascending</strong> (<em>bool</em>) – 是否升序</p></li>
<li><p><strong>method</strong> (<em>str</em>) – 排序规则，见pd中rank函数的参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>list</cite> - 滚动累计排序序号列表</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>series会被当成没有无效值处理</p>
</div>
</dd></dl>

</section>
<section id="cumrank">
<h3>cumrank<a class="headerlink" href="#cumrank" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cumrank">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cumrank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dense'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cumrank" title="Permalink to this definition"></a></dt>
<dd><p>滚动计算累计排序号</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>list</em><em>, </em><em>pd.Series</em><em>, </em><em>np.array</em>) – 待排序目标序列</p></li>
<li><p><strong>ascending</strong> (<em>bool</em>) – 是否升序</p></li>
<li><p><strong>method</strong> (<em>str</em>) – 排序规则，见pd中rank函数的参数</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>pd.Series</cite> - 滚动累计排序序号</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>series中无效值会被忽略</p>
</div>
</dd></dl>

</section>
<section id="get-pct-loc">
<h3>get_pct_loc<a class="headerlink" href="#get-pct-loc" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.get_pct_loc">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">get_pct_loc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isnew</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dense'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.get_pct_loc" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">给定value(<cite>float</cite>)和series(<cite>pd.Series, np.array</cite>)，计算value在series中所处百分位</div>
<div class="line">若isnew为True，则将value当成新数据，若为False，则当成series中已经存在的数据</div>
<div class="line">method决定并列排序序号确定方式，参见pd中的rank函数参数</div>
</div>
</dd></dl>

</section>
<section id="cum-n-unique">
<h3>cum_n_unique<a class="headerlink" href="#cum-n-unique" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cum_n_unique">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cum_n_unique</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cum_n_unique" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">滚动计算series(<cite>np.array, pd.Series, list</cite>)中值的unique个数</div>
<div class="line">返回list</div>
</div>
</dd></dl>

</section>
<section id="cum-n-unique-pd">
<h3>cum_n_unique_pd<a class="headerlink" href="#cum-n-unique-pd" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cum_n_unique_pd">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cum_n_unique_pd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipna</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cum_n_unique_pd" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">滚动计算series(<cite>np.array, pd.Series, list</cite>)中值的unique个数</div>
<div class="line">返回list</div>
<div class="line">与 <a class="reference internal" href="#dramkit.datsci.stats.cum_n_unique" title="dramkit.datsci.stats.cum_n_unique"><code class="xref py py-func docutils literal notranslate"><span class="pre">cum_n_unique()</span></code></a> 的区别是此函数使用pandas计算而不是循环迭代</div>
</div>
</dd></dl>

</section>
<section id="cum-pct-loc">
<h3>cum_pct_loc<a class="headerlink" href="#cum-pct-loc" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.cum_pct_loc">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">cum_pct_loc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dense'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.cum_pct_loc" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">滚动计算series(<cite>np.array, pd.Series</cite>)数据累计所处百分位</div>
<div class="line">调用 <code class="xref py py-func docutils literal notranslate"><span class="pre">dramkit.datsci.utils_stats.cum_n_unique_pd()</span></code> 函数</div>
</div>
</dd></dl>

</section>
<section id="rolling-pct-loc">
<h3>rolling_pct_loc<a class="headerlink" href="#rolling-pct-loc" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.rolling_pct_loc">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">rolling_pct_loc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dense'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.rolling_pct_loc" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">滚动计算series(<cite>np.array, pd.Series</cite>)数据所处百分位</div>
<div class="line">lag为滚动窗口长度</div>
<div class="line">method为排序处理方式，见pd中的rank函数参数</div>
</div>
</dd></dl>

</section>
<section id="parms-est">
<h3>parms_est<a class="headerlink" href="#parms-est" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.parms_est">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">parms_est</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.parms_est" title="Permalink to this definition"></a></dt>
<dd><p>各种分布不同方法的参数估计，待实现</p>
</dd></dl>

</section>
<section id="auc">
<h3>auc<a class="headerlink" href="#auc" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.auc">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">auc</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.auc" title="Permalink to this definition"></a></dt>
<dd><p>计算auc，待实现</p>
</dd></dl>

</section>
<section id="var-hom-test">
<h3>var_hom_test<a class="headerlink" href="#var-hom-test" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.var_hom_test">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">var_hom_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.var_hom_test" title="Permalink to this definition"></a></dt>
<dd><p>方差齐性检验，待实现</p>
</dd></dl>

</section>
<section id="ind-ttest">
<h3>ind_ttest<a class="headerlink" href="#ind-ttest" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.ind_ttest">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">ind_ttest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.ind_ttest" title="Permalink to this definition"></a></dt>
<dd><p>独立样本T检验，待实现</p>
</dd></dl>

</section>
<section id="rel-ttest">
<h3>rel_ttest<a class="headerlink" href="#rel-ttest" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.rel_ttest">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">rel_ttest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">s2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.rel_ttest" title="Permalink to this definition"></a></dt>
<dd><p>配对样本T检验，待实现</p>
</dd></dl>

</section>
<section id="anova-oneway">
<h3>anova_oneway<a class="headerlink" href="#anova-oneway" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.stats.anova_oneway">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.stats.</span></span><span class="sig-name descname"><span class="pre">anova_oneway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_group</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.stats.anova_oneway" title="Permalink to this definition"></a></dt>
<dd><p>单因素方差分析，col_val为待比较列，col_group为组别列，待实现</p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.time_series">
<span id="time-series"></span><h2>time_series<a class="headerlink" href="#module-dramkit.datsci.time_series" title="Permalink to this headline"></a></h2>
<p>时间序列处理工具函数</p>
<div class="admonition-todo admonition" id="id8">
<p class="admonition-title">Todo</p>
<p>改成class以简化函数调用传参</p>
</div>
<section id="id9">
<h3>fillna_ma<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.fillna_ma">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">fillna_ma</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ma_min</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.fillna_ma" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用移动平均ma填充序列series中的缺失值</div>
<div class="line">ma设置填充时向前取平均数用的期数，ma_min设置最小期数</div>
<div class="line">若ma为None，则根据最大连续缺失记录数确定ma期数</div>
</div>
</dd></dl>

</section>
<section id="get-directional-accuracy-1step">
<h3>get_directional_accuracy_1step<a class="headerlink" href="#get-directional-accuracy-1step" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.get_directional_accuracy_1step">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">get_directional_accuracy_1step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.get_directional_accuracy_1step" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">一步向前预测方向准确率计算</div>
<div class="line">y_true和y_pred为pd.Series</div>
</div>
</dd></dl>

</section>
<section id="genxy-x2d-y1d1step">
<h3>genXy_X2d_y1d1step<a class="headerlink" href="#genxy-x2d-y1d1step" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.genXy_X2d_y1d1step">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">genXy_X2d_y1d1step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_series_lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.genXy_X2d_y1d1step" title="Permalink to this definition"></a></dt>
<dd><p>构造时间序列预测的输入X和输出y，适用于X二维，ycol一维一步向前预测情况</p>
<div class="admonition-todo admonition" id="id10">
<p class="admonition-title">Todo</p>
<p>gap为-1的情况检查确认</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – 包含因变量列和所有自变量列的数据集</p></li>
<li><p><strong>ycol</strong> (<em>str</em>) – 因变量序列名</p></li>
<li><p><strong>Xcols_series_lag</strong> (<em>list</em><em>, </em><em>None</em>) – <div class="line-block">
<div class="line">序列自变量列名和历史期数，格式如：</div>
<div class="line">[(xcol1, lag1), (xcol2, lag2), …]</div>
<div class="line">若为None，则默认设置为[(ycol, 3)]</div>
</div>
</p></li>
<li><p><strong>Xcols_other</strong> (<em>list</em><em>, </em><em>None</em>) – <p>非序列自变量列名列表</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>序列自变量视为不能拿到跟因变量预测同期的数据，非序列自变量视为可以拿到同期数据</p>
</div>
</p></li>
<li><p><strong>gap</strong> (<em>int</em>) – 预测跳跃期数（eg.用截止今天的数据预测gap天之后的数据）</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>X</strong> (<em>np.array</em>) – 二维np.array，行数为样本量，列数为特征数量</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – 一维np.array，长度等于样本量</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="predict-x2d-y1d1step">
<h3>predict_X2d_y1d1step<a class="headerlink" href="#predict-x2d-y1d1step" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.predict_X2d_y1d1step">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">predict_X2d_y1d1step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_pre</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_series_lag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.predict_X2d_y1d1step" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">使用训练好的模型在数据df_pre上进行构造样本并预测(非滚动预测)</div>
<div class="line">适用于X二维、ycol一维一步向前预测情况</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – 训练好的预测模型</p></li>
<li><p><strong>func_pred</strong> (<em>function</em>) – func_pred为预测函数，接受必要参数model和X，也接受可选参数**kwargs</p></li>
<li><p><strong>df_pre</strong> (<em>pd.DataFrame</em>) – 待预测所用数据，其中 <code class="docutils literal notranslate"><span class="pre">ycol</span></code> 为待预测列</p></li>
<li><p><strong>Xcols_series_lag</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1d1step" title="dramkit.datsci.time_series.genXy_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1d1step()</span></code></a> 中参数意义</p></li>
<li><p><strong>Xcols_other</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1d1step" title="dramkit.datsci.time_series.genXy_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1d1step()</span></code></a> 中参数意义</p></li>
<li><p><strong>gap</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1d1step" title="dramkit.datsci.time_series.genXy_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1d1step()</span></code></a> 中参数意义</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>pd.DataFrame</cite> - 返回pd.DataFrame包含原来的数据以及预测结果ycol+’_pre’列</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="valid-test-predict-x2d-y1d1step">
<h3>valid_test_predict_X2d_y1d1step<a class="headerlink" href="#valid-test-predict-x2d-y1d1step" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.valid_test_predict_X2d_y1d1step">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">valid_test_predict_X2d_y1d1step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_valid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_series_lag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.valid_test_predict_X2d_y1d1step" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用训练好的模型做时间序列验证集和测试集预测(非滚动预测, 即不使用前面预测的数据作为输入)</div>
<div class="line">适用于X二维、ycol一维一步向前预测情况</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.predict_X2d_y1d1step" title="dramkit.datsci.time_series.predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>func_pred</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.predict_X2d_y1d1step" title="dramkit.datsci.time_series.predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>ycol</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.predict_X2d_y1d1step" title="dramkit.datsci.time_series.predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>Xcols_series_lag</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.predict_X2d_y1d1step" title="dramkit.datsci.time_series.predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>Xcols_other</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.predict_X2d_y1d1step" title="dramkit.datsci.time_series.predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>gap</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.predict_X2d_y1d1step" title="dramkit.datsci.time_series.predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>**kwargs</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.predict_X2d_y1d1step" title="dramkit.datsci.time_series.predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>df_train</strong> (<em>pd.DataFrame</em>) – df_train为用作训练的数据</p></li>
<li><p><strong>df_valid</strong> (<em>pd.DataFrame</em>) – df_valid为验证集待预测数据</p></li>
<li><p><strong>df_test</strong> (<em>pd.DataFrame</em>) – <p>df_test为测试集待预测数据</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="line-block">
<div class="line">df_valid和df_test的列须与df_train相同</div>
<div class="line">df_valid和df_test可以为None或pd.DataFrame</div>
<div class="line">df_train、df_valid、df_test须为连续时间序列</div>
<div class="line">当df_test不为空时，df_valid的ycol列必须有真实值</div>
</div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>valid_pre</strong> (<em>pd.DataFrame</em>) – 验证集预测结果，包含ycol+’_pre’列</p></li>
<li><p><strong>test_pre</strong> (<em>pd.DataFrame</em>) – 测试集预测结果，包含ycol+’_pre’列</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="forward-predict-x2d-y1d1step">
<h3>forward_predict_X2d_y1d1step<a class="headerlink" href="#forward-predict-x2d-y1d1step" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.forward_predict_X2d_y1d1step">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">forward_predict_X2d_y1d1step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_pre</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_series_lag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.forward_predict_X2d_y1d1step" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用训练好的模型做在数据df_pre上进行构造样本并进行向前滚动预测(前面的预测作为后面的输入)</div>
<div class="line">适用于X二维、ycol一维一步向前预测情况</div>
</div>
<div class="admonition-todo admonition" id="id11">
<p class="admonition-title">Todo</p>
<p>gap为-1的情况检查确认</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – 训练好的预测模型</p></li>
<li><p><strong>func_pred</strong> (<em>function</em>) – func_pred为预测函数，接受必要参数model和X，也接受可选参数**kwargs</p></li>
<li><p><strong>df_pre</strong> (<em>pd.DataFrame</em>) – 待预测所用数据，其中 <code class="docutils literal notranslate"><span class="pre">ycol</span></code> 为待预测列。
除了初始构造输入X必须满足的数据行外，后面的数据可以为空值</p></li>
<li><p><strong>Xcols_series_lag</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1d1step" title="dramkit.datsci.time_series.genXy_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1d1step()</span></code></a> 中参数意义，
用其构造输入变量的过程亦完全相同</p></li>
<li><p><strong>Xcols_other</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1d1step" title="dramkit.datsci.time_series.genXy_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1d1step()</span></code></a> 中参数意义，
用其构造输入变量的过程亦完全相同</p></li>
<li><p><strong>gap</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1d1step" title="dramkit.datsci.time_series.genXy_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1d1step()</span></code></a> 中参数意义，
用其构造输入变量的过程亦完全相同</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><cite>pd.DataFrame</cite> - 返回pd.DataFrame包含原来的数据以及预测结果ycol+’_pre’列</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="forward-valid-test-predict-x2d-y1d1step">
<h3>forward_valid_test_predict_X2d_y1d1step<a class="headerlink" href="#forward-valid-test-predict-x2d-y1d1step" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.forward_valid_test_predict_X2d_y1d1step">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">forward_valid_test_predict_X2d_y1d1step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_valid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_series_lag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.forward_valid_test_predict_X2d_y1d1step" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用训练好的模型做时间序列验证集和测试集预测(滚动预测, 前面的预测作为后面的输入)</div>
<div class="line">适用于X二维、ycol一维一步向前预测情况</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1d1step" title="dramkit.datsci.time_series.forward_predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>func_pred</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1d1step" title="dramkit.datsci.time_series.forward_predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>ycol</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1d1step" title="dramkit.datsci.time_series.forward_predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>Xcols_series_lag</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1d1step" title="dramkit.datsci.time_series.forward_predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>Xcols_other</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1d1step" title="dramkit.datsci.time_series.forward_predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>gap</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1d1step" title="dramkit.datsci.time_series.forward_predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>**kwargs</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1d1step" title="dramkit.datsci.time_series.forward_predict_X2d_y1d1step"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1d1step()</span></code></a> 参数意义相同</p></li>
<li><p><strong>df_train</strong> (<em>pd.DataFrame</em>) – df_train为用作训练的数据</p></li>
<li><p><strong>df_valid</strong> (<em>pd.DataFrame</em>) – df_valid为验证集待预测数据</p></li>
<li><p><strong>df_test</strong> (<em>pd.DataFrame</em>) – <p>df_test为测试集待预测数据</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="line-block">
<div class="line">df_valid和df_test的列须与df_train相同</div>
<div class="line">df_valid和df_test可以为None或pd.DataFrame</div>
<div class="line">df_train、df_valid、df_test须为连续时间序列</div>
<div class="line">当df_test不为空时，df_valid的ycol列必须有真实值</div>
</div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>valid_pre</strong> (<em>pd.DataFrame</em>) – 验证集预测结果，包含ycol+’_pre’列</p></li>
<li><p><strong>test_pre</strong> (<em>pd.DataFrame</em>) – 测试集预测结果，包含ycol+’_pre’列</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="genxy-x2d-y1dsteps">
<h3>genXy_X2d_y1dsteps<a class="headerlink" href="#genxy-x2d-y1dsteps" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.genXy_X2d_y1dsteps">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">genXy_X2d_y1dsteps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_series_lag</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_other</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_step</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.genXy_X2d_y1dsteps" title="Permalink to this definition"></a></dt>
<dd><p>构造时间序列预测的输入X和输出y，适用于X二维，ycol一维多步向前预测情况</p>
<div class="admonition-todo admonition" id="id12">
<p class="admonition-title">Todo</p>
<p>gap为-1的情况检查确认</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – 包含因变量列和所有自变量列的数据集</p></li>
<li><p><strong>ycol</strong> (<em>str</em>) – 因变量序列名</p></li>
<li><p><strong>Xcols_series_lag</strong> (<em>list</em><em>, </em><em>None</em>) – <div class="line-block">
<div class="line">序列自变量列名和历史期数，格式如：</div>
<div class="line">[(xcol1, lag1), (xcol2, lag2), …]</div>
<div class="line">若为None，则默认设置为[(ycol, 3)]</div>
</div>
</p></li>
<li><p><strong>Xcols_other</strong> (<em>list</em><em>, </em><em>None</em>) – <p>非序列自变量列名列表</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>序列自变量视为不能拿到跟因变量预测同期的数据，非序列自变量视为可以拿到同期数据</p>
</div>
</p></li>
<li><p><strong>y_step</strong> (<em>int</em>) – 一次向前预测ycol的步数
（即因变量y的维度，多输出模型中y为多维，时间序列上相当于向前预测多步）</p></li>
<li><p><strong>gap</strong> (<em>int</em>) – 预测跳跃期数（eg.用截止今天的数据预测gap天之后的y_step天的数据）</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>X</strong> (<em>np.array</em>) – 二维，行数为样本量，列数为特征数量</p></li>
<li><p><strong>y</strong> (<em>np.array</em>) – 若y_step为1则为一维，若y_step大于1，则形状为样本量*y_step</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="forward-predict-x2d-y1dsteps">
<h3>forward_predict_X2d_y1dsteps<a class="headerlink" href="#forward-predict-x2d-y1dsteps" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">forward_predict_X2d_y1dsteps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_pre</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_series_lag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用训练好的模型做在数据df_pre上进行构造样本并进行向前滚动预测(前面的预测作为后面的输入)</div>
<div class="line">适用于X二维，ycol一维多步向前预测情况</div>
</div>
<div class="admonition-todo admonition" id="id13">
<p class="admonition-title">Todo</p>
<p>gap为-1的情况检查确认</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – 训练好的预测模型</p></li>
<li><p><strong>func_pred</strong> (<em>function</em>) – func_pred为预测函数，接受必要参数model和X，也接受可选参数**kwargs</p></li>
<li><p><strong>df_pre</strong> (<em>pd.DataFrame</em>) – 待预测所用数据，其中 <code class="docutils literal notranslate"><span class="pre">ycol</span></code> 为待预测列。
除了初始构造输入X必须满足的数据行外，后面的数据可以为空值</p></li>
<li><p><strong>Xcols_series_lag</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1dsteps" title="dramkit.datsci.time_series.genXy_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1dsteps()</span></code></a> 中参数意义，
用其构造输入变量的过程亦完全相同</p></li>
<li><p><strong>Xcols_other</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1dsteps" title="dramkit.datsci.time_series.genXy_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1dsteps()</span></code></a> 中参数意义，
用其构造输入变量的过程亦完全相同</p></li>
<li><p><strong>y_step</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1dsteps" title="dramkit.datsci.time_series.genXy_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1dsteps()</span></code></a> 中参数意义，
用其构造输入变量的过程亦完全相同</p></li>
<li><p><strong>gap</strong> – 参数意义同 <a class="reference internal" href="#dramkit.datsci.time_series.genXy_X2d_y1dsteps" title="dramkit.datsci.time_series.genXy_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">genXy_X2d_y1dsteps()</span></code></a> 中参数意义，
用其构造输入变量的过程亦完全相同</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>df_pre</strong> – 返回数据中包含原来的数据以及预测结果ycol+’_pre’列</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="forward-valid-test-predict-x2d-y1dsteps">
<h3>forward_valid_test_predict_X2d_y1dsteps<a class="headerlink" href="#forward-valid-test-predict-x2d-y1dsteps" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.time_series.forward_valid_test_predict_X2d_y1dsteps">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.time_series.</span></span><span class="sig-name descname"><span class="pre">forward_valid_test_predict_X2d_y1dsteps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_valid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">df_test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ycol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_series_lag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Xcols_other</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_step</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gap</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.time_series.forward_valid_test_predict_X2d_y1dsteps" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">用训练好的模型做时间序列验证集和测试集预测(滚动预测, 前面的预测作为后面的输入)</div>
<div class="line">适用于X二维，ycol一维多步向前预测情况</div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1dsteps()</span></code></a> 中参数意义相同</p></li>
<li><p><strong>func_pred</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1dsteps()</span></code></a> 中参数意义相同</p></li>
<li><p><strong>ycol</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1dsteps()</span></code></a> 中参数意义相同</p></li>
<li><p><strong>Xcols_series_lag</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1dsteps()</span></code></a> 中参数意义相同</p></li>
<li><p><strong>Xcols_other</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1dsteps()</span></code></a> 中参数意义相同</p></li>
<li><p><strong>y_step</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1dsteps()</span></code></a> 中参数意义相同</p></li>
<li><p><strong>gap</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1dsteps()</span></code></a> 中参数意义相同</p></li>
<li><p><strong>**kwargs</strong> – 与 <a class="reference internal" href="#dramkit.datsci.time_series.forward_predict_X2d_y1dsteps" title="dramkit.datsci.time_series.forward_predict_X2d_y1dsteps"><code class="xref py py-func docutils literal notranslate"><span class="pre">forward_predict_X2d_y1dsteps()</span></code></a> 中参数意义相同</p></li>
<li><p><strong>df_train</strong> (<em>pd.DataFrame</em>) – df_train为用作训练的数据</p></li>
<li><p><strong>df_valid</strong> (<em>pd.DataFrame</em>) – df_valid为验证集待预测数据</p></li>
<li><p><strong>df_test</strong> (<em>pd.DataFrame</em>) – <p>df_test为测试集待预测数据</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<div class="line-block">
<div class="line">df_valid和df_test的列须与df_train相同</div>
<div class="line">df_valid和df_test可以为None或pd.DataFrame</div>
<div class="line">df_train、df_valid、df_test须为连续时间序列</div>
<div class="line">当df_test不为空时，df_valid的ycol列必须有真实值</div>
</div>
</div>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>valid_pre</strong> (<em>pd.DataFrame</em>) – 验证集预测结果，包含ycol+’_pre’列</p></li>
<li><p><strong>test_pre</strong> (<em>pd.DataFrame</em>) – 测试集预测结果，包含ycol+’_pre’列</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.topsis">
<span id="topsis"></span><h2>topsis<a class="headerlink" href="#module-dramkit.datsci.topsis" title="Permalink to this headline"></a></h2>
<section id="id14">
<h3>topsis<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.topsis.topsis">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.topsis.</span></span><span class="sig-name descname"><span class="pre">topsis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.topsis.topsis" title="Permalink to this definition"></a></dt>
<dd><p>TOPSIS评价方法</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – <p>每行一个样本，每列一个指标，为每个样本计算综合得分</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>df应保证所有指标都是正向的，且已经预处理了无效值</p>
</div>
</p></li>
<li><p><strong>weight</strong> (<em>list</em>) – 顺序与df.columns对应的指标权重列表，若为None，则默认采用熵值法计算权重</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul>
<li><p><strong>score</strong> (<em>pd.DataFrame</em>) – 每个样本综合得分指数，列名为’score’</p></li>
<li><p><strong>mid_info</strong> (<em>tuple</em>) – 返回中间过程数据(result, Z, weight):</p>
<div class="line-block">
<div class="line">- result: df规范化之后的数据，加上’正dis’, ‘负dis’, ‘score’, ‘rank’四列，
‘正dis’和’负dis’分别为样本距正理想解和负理想解的距离</div>
<div class="line">- Z: 正理想解和负理想解</div>
<div class="line">- weight: 指标权重列表</div>
</div>
</li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">References</p>
<p><a class="reference external" href="https://zhuanlan.zhihu.com/p/37738503">https://zhuanlan.zhihu.com/p/37738503</a></p>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.utils_lgb">
<span id="utils-lgb"></span><h2>utils_lgb<a class="headerlink" href="#module-dramkit.datsci.utils_lgb" title="Permalink to this headline"></a></h2>
<p><strong>LightGBM核心参数说明</strong></p>
<div class="line-block">
<div class="line"><strong>算法类型</strong></div>
<div class="line">- boosting: 可选[‘gbdt’, ‘rf’, ‘dart’, ‘goss’]（使用dart？可能准确率更高）</div>
<div class="line">- extra_trees: 若为True，则特征分裂时使用极端随机树方式（普通决策树对某个特征进行分裂
时通过比较不同划分点来选择最优分裂点，极端随机树则随机选择分裂点），使用extra_trees
可以减少过拟合</div>
</div>
<div class="line-block">
<div class="line"><strong>树结构</strong></div>
<div class="line">- max_depth: 树的深度，太大可能过拟合</div>
<div class="line">- num_leaves: 树的叶子节点数量，太大可能过拟合（二叉树叶子节点数量为: 2^树深度）</div>
<div class="line">- min_data_in_leaf: 每个叶子节点上的样本数，太小可能过拟合</div>
<div class="line">注：LightGBM使用leaf-wise的算法，因此在调节树的复杂程度时，应使用的是num_leaves，
而不是max_depth。其值应设置为小于2^(max_depth)，否则容易导致过拟合。</div>
</div>
<div class="line-block">
<div class="line"><strong>采样和特征处理</strong></div>
<div class="line">- bagging_fraction: 样本采样比例，用于降低过拟合和提升训练速度</div>
<div class="line">- bagging_freq: 采样频率，即每个多少轮对样本进行一次采样</div>
<div class="line">注：bagging_fraction和bagging_freq须同时设置（具体过程？每轮用的样本不一样？）</div>
<div class="line">- feature_fraction: 特征采样比例，即在每轮迭代（每棵树？）随机选取指定比例的特征参与
建模，用于降低过拟合和提升训练速度</div>
<div class="line">- max_bin: 特征离散化时的分组数（lightgbm采用直方图对特征进行离散化），
越小训练速度越快，越大越容易过拟合</div>
</div>
<div class="line-block">
<div class="line"><strong>正则化</strong></div>
<div class="line">- lambda_l1: L1正则化项系数</div>
<div class="line">- lambda_l2: L2正则化项系数</div>
<div class="line">- min_gain_to_split: 节点分裂时的最小gain？控制，越大可以减少过拟合</div>
<div class="line">- min_sum_hessian_in_leaf: 每个叶子节点上的hessian矩阵？之和的最小值限制，
起正则化和限制树深度的作用，越大可以减少过拟合</div>
<div class="line">- path_smooth: 树节点平滑？，越大可以减少过拟合</div>
<div class="line">注：设置path_smooth大于0时min_data_in_leaf必须大于等于2</div>
</div>
<div class="line-block">
<div class="line"><strong>训练过程控制</strong></div>
<div class="line">- learning_rate, num_iterations: 设置较小的learning_rate配合较大的num_iterations比较好</div>
</div>
<div class="line-block">
<div class="line"><strong>其它注意事项</strong></div>
<div class="line">- categorical_feature参数值在训练函数lgb.train中与在lgb.Dataset中须一致，其对应
变量必须是大于等于0的整数值，须与数据集中的类别型（category）变量名列相同，最好在
pandas.DataFrame中设置为.astype(‘category’)</div>
<div class="line">- 多分类任务中，标签y的值必须为[0, num_class)范围内的整数，num_class为类别数</div>
<div class="line">- 二分类任务中，lgb貌似会默认将y中小于等于0的值当做负标签，大于0的当做正标签</div>
<div class="line">- ‘num_boost_round’和树的数量是啥关系？</div>
</div>
<section id="check-parms-mdl">
<h3>check_parms_mdl<a class="headerlink" href="#check-parms-mdl" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.check_parms_mdl">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">check_parms_mdl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parms_mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.check_parms_mdl" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">检查模型相关参数设置是否正确</div>
<div class="line">parms_mdl为设置的模型参数</div>
<div class="line">检查的参数项目（可添加新的检查项目）：</div>
<div class="line-block">
<div class="line">任务类型objective</div>
<div class="line">multiclass中的num_class参数</div>
</div>
<div class="line">返回检查的参数值</div>
<div class="line">注：后续若更改该函数检查的参数项，则在调用该函数的地方也须做相应修改</div>
</div>
</dd></dl>

</section>
<section id="get-parms-mdl">
<h3>get_parms_mdl<a class="headerlink" href="#get-parms-mdl" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.get_parms_mdl">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">get_parms_mdl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parms_mdl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.get_parms_mdl" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取模型参数</div>
<div class="line">parms_mdl为设置的模型参数，若关键参数没设置，则会补充设置默认值</div>
<div class="line">objective为任务类型，支持的任务类型（可添加其他任务类型）：</div>
<div class="line-block">
<div class="line">multiclass、binary、regression</div>
</div>
<div class="line">num_class：多分类任务中的类别数（对多分类任务起作用，会对此参数进行特殊检查）</div>
<div class="line">注：若新增其它任务类型，可能需要设置对应需要特殊检查的参数</div>
<div class="line">注意：由于lgb参数有别称，可能导致混淆或重复设置，故parms_mdl中出现的参数名称应与
本函数中默认名称保持一致！</div>
</div>
</dd></dl>

</section>
<section id="get-parms-train-or-cv">
<h3>get_parms_train_or_cv<a class="headerlink" href="#get-parms-train-or-cv" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.get_parms_train_or_cv">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">get_parms_train_or_cv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parms_train_or_cv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.get_parms_train_or_cv" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">获取lgb.train或lgb.cv参数</div>
<div class="line">parms_train_or_cv为以字典形式设置的train或cv参数，
若关键参数没设置，则会补充设置默认值</div>
</div>
</dd></dl>

</section>
<section id="lgb-train">
<h3>lgb_train<a class="headerlink" href="#lgb-train" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.lgb_train">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">lgb_train</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X_valid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_valid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_mdl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_train</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl_save_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.lgb_train" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">lightgbm模型训练</div>
<div class="line">X_train, y_train, X_valid, y_valid为pd或np格式，最好为pd格式数据</div>
<div class="line">objective为任务类型，支持的任务类型（可添加其他任务类型）：</div>
<div class="line-block">
<div class="line">multiclass、binary、regression</div>
</div>
<div class="line">parms_mdl和parms_train为模型参数和训练参数（dict）</div>
<div class="line">mdl_save_path为模型本地化路径</div>
<div class="line">返回训练好的模型和损失函数变化曲线数据</div>
</div>
</dd></dl>

</section>
<section id="lgb-cv">
<h3>lgb_cv<a class="headerlink" href="#lgb-cv" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.lgb_cv">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">lgb_cv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_mdl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_cv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.lgb_cv" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">lightgbm交叉验证</div>
<div class="line">X_train, y_train为pd或np格式，最好为pd格式数据</div>
<div class="line">objective为任务类型，支持的任务类型（可添加其他任务类型）：</div>
<div class="line-block">
<div class="line">multiclass、binary、regression</div>
</div>
<div class="line">parms_mdl和parms_cv为模型参数和cv参数（dict）</div>
<div class="line">返回各损失函数值？</div>
</div>
</dd></dl>

</section>
<section id="lgb-cv-grid-search">
<h3>lgb_cv_grid_search<a class="headerlink" href="#lgb-cv-grid-search" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.lgb_cv_grid_search">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">lgb_cv_grid_search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_mdl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_to_opt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_cv</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.lgb_cv_grid_search" title="Permalink to this definition"></a></dt>
<dd><p>lgb交叉验证网格搜索调参</p>
</dd></dl>

</section>
<section id="lgb-cv-hoo">
<h3>lgb_cv_hoo<a class="headerlink" href="#lgb-cv-hoo" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.lgb_cv_hoo">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">lgb_cv_hoo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">X_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_train</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_mdl_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parms_train_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_fold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">shuffle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">random_state</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">62</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl_path_list</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.lgb_cv_hoo" title="Permalink to this definition"></a></dt>
<dd><p>自定义lgb交叉验证，返回模型列表和结果列表</p>
</dd></dl>

</section>
<section id="lgb-predict">
<h3>lgb_predict<a class="headerlink" href="#lgb-predict" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.lgb_predict">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">lgb_predict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">X</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_cut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.lgb_predict" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">lgb模型预测</div>
<div class="line">mdl为训练好的模型或本地模型路径，X为待预测输入</div>
<div class="line">p_cut为二分类确定标签时的概率切分点</div>
</div>
</dd></dl>

</section>
<section id="get-features-importance">
<h3>get_features_importance<a class="headerlink" href="#get-features-importance" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_lgb.get_features_importance">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_lgb.</span></span><span class="sig-name descname"><span class="pre">get_features_importance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sum1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'df'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_lgb.get_features_importance" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">返回特征重要性</div>
<div class="line">sum1设置是否标准化成和为1的权重</div>
<div class="line">return_type可选[<cite>df</cite>, <cite>dict</cite>]</div>
</div>
</dd></dl>

</section>
</section>
<section id="module-dramkit.datsci.utils_ml">
<span id="utils-ml"></span><h2>utils_ml<a class="headerlink" href="#module-dramkit.datsci.utils_ml" title="Permalink to this headline"></a></h2>
<section id="vote-label-int">
<h3>vote_label_int<a class="headerlink" href="#vote-label-int" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_ml.vote_label_int">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_ml.</span></span><span class="sig-name descname"><span class="pre">vote_label_int</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">label_pred_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_ml.vote_label_int" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">投票法生成最终二分类或多分类label</div>
<div class="line">label_pred_list为不同的预测结果列表，
每个预测结果是值为整数的np.array或pd.Series或list</div>
</div>
</dd></dl>

</section>
<section id="vote-prob-multi">
<h3>vote_prob_multi<a class="headerlink" href="#vote-prob-multi" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_ml.vote_prob_multi">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_ml.</span></span><span class="sig-name descname"><span class="pre">vote_prob_multi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prob_pred_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_ml.vote_prob_multi" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">投票法生成最终多分类label</div>
<div class="line">prob_pred_list为不同预测结果列表，
每个预测结果是值为概率的np.array或pd.Series，shape为样本数*类别数</div>
</div>
</dd></dl>

</section>
<section id="vote-prob-bin-pcut">
<h3>vote_prob_bin_pcut<a class="headerlink" href="#vote-prob-bin-pcut" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_ml.vote_prob_bin_pcut">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_ml.</span></span><span class="sig-name descname"><span class="pre">vote_prob_bin_pcut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prob_pred_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pcut</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_ml.vote_prob_bin_pcut" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">投票法生成最终二分类label</div>
<div class="line">prob_pred_list为不同预测结果列表，
每个预测结果是值为概率（label为1的概率）的np.array或pd.Series，shape为样本数*1</div>
<div class="line">pcut: 指定将预测概率大于pcut的样本标注为1</div>
</div>
</dd></dl>

</section>
<section id="vote-prob-bin-rate1">
<h3>vote_prob_bin_rate1<a class="headerlink" href="#vote-prob-bin-rate1" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_ml.vote_prob_bin_rate1">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_ml.</span></span><span class="sig-name descname"><span class="pre">vote_prob_bin_rate1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">prob_pred_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_ml.vote_prob_bin_rate1" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">投票法生成最终二分类label</div>
<div class="line">prob_pred_list为不同预测结果列表，
每个预测结果是值为概率（label为1的概率）的np.array或pd.Series，shape为样本数*1</div>
<div class="line">rate1: 指定标签为1的样本比例</div>
</div>
</dd></dl>

</section>
<section id="auc-bin">
<h3>auc_bin<a class="headerlink" href="#auc-bin" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_ml.auc_bin">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_ml.</span></span><span class="sig-name descname"><span class="pre">auc_bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pred_prob</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_ml.auc_bin" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">二分类AUC计算</div>
<div class="line">y_true为真实标签，pred_prob为预测概率（取y_true中较大值的概率）</div>
<div class="line">**kwargs可设置sklearn.metrics.roc_auc_score函数接收的其它参数</div>
</div>
</dd></dl>

</section>
<section id="cal-f1-score">
<h3>cal_f1_score<a class="headerlink" href="#cal-f1-score" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_ml.cal_f1_score">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_ml.</span></span><span class="sig-name descname"><span class="pre">cal_f1_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_ml.cal_f1_score" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">F1-score计算</div>
<div class="line">y_true为真实标签，y_pred为预测标签</div>
<div class="line">**kwargs可设置sklearn.metrics.f1_score函数接收的其它参数</div>
<div class="line">多分类时sklearn中计算F1值的方式参考：</div>
<div class="line"><a class="reference external" href="https://zhuanlan.zhihu.com/p/59862986">https://zhuanlan.zhihu.com/p/59862986</a></div>
</div>
</dd></dl>

</section>
<section id="confusion-matrix">
<h3>confusion_matrix<a class="headerlink" href="#confusion-matrix" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_ml.confusion_matrix">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_ml.</span></span><span class="sig-name descname"><span class="pre">confusion_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs_f1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_ml.confusion_matrix" title="Permalink to this definition"></a></dt>
<dd><p>混淆矩阵，y_true和y_predict分别为真实标签和预测标签</p>
</dd></dl>

</section>
<section id="plot-roc-bin">
<h3>plot_roc_bin<a class="headerlink" href="#plot-roc-bin" title="Permalink to this headline"></a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="dramkit.datsci.utils_ml.plot_roc_bin">
<span class="sig-prename descclassname"><span class="pre">dramkit.datsci.utils_ml.</span></span><span class="sig-name descname"><span class="pre">plot_roc_bin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_true_pred_prob</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lnstyls</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(8,</span> <span class="pre">8)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fontsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">15</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">grid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fig_save_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#dramkit.datsci.utils_ml.plot_roc_bin" title="Permalink to this definition"></a></dt>
<dd><div class="line-block">
<div class="line">二分类ROC曲线绘制</div>
<div class="line">y_true_pred_prob格式：</div>
<div class="line-block">
<div class="line">[(y_true1, pred_prob1), (y_true2, pred_prob2), …]，</div>
<div class="line">其中y_true为真实标签，</div>
<div class="line">pred_prob为预测概率结果（取y_true中较大值的概率）</div>
</div>
<div class="line">labels设置每个结果ROC曲线图例标签，list或tuple</div>
<div class="line">lnstyls设置每个结果ROC曲线的线型，list或tuple</div>
<div class="line">若只有一个结果，则labels，lnstyls可不用写成list或tuple</div>
<div class="line">**kwargs可设置sklearn.metrics.roc_curve函数接收的其它参数</div>
<div class="line">返回AUC值</div>
</div>
</dd></dl>

</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="dramkit.backpacks.html" class="btn btn-neutral float-left" title="backpacks" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="dramkit.find_addends.html" class="btn btn-neutral float-right" title="find_addends" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2020-2022, YueYong Hu.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>